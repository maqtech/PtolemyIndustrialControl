<?xml version="1.0" standalone="no"?>
<!DOCTYPE model PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/archive/moml.dtd">
<model name="modulation" class="ptolemy.actor.TypedCompositeActor">
  <doc>Multiply a low-frequency sine wave by a higher frequency one.</doc>

  <director class="ptolemy.domains.sdf.kernel.SDFDirector">
    <property name="iterations" value="100"></property>
  </director>

  <import source="sinewave.xml"/>

  <!-- Define the actors -->
  <entity name="carrier" class=".sinewave">
    <property name="samplingFrequency" value="2*PI"></property>
    <property name="frequency" value="PI*0.2"></property>
    <port name="output"></port>
  </entity>

  <entity name="signal" class=".sinewave">
    <property name="samplingFrequency" value="2*PI"></property>
    <property name="frequency" value="PI*0.02"></property>
    <port name="output"></port>
  </entity>

  <entity name="mult" class="ptolemy.actor.lib.MultiplyDivide">
    <port name="multiply"></port>
    <port name="output"></port>
  </entity>
  <entity name="display" class="ptolemy.actor.gui.SequencePlotter">
    <port name="input"></port>
    <!-- Configure provided in both a referenced file and local data -->
    <configure source="plotConfigure.xml"><![CDATA[
      <?xml version="1.0" standalone="no"?>
      <!DOCTYPE model SYSTEM "../../plot/plotml/plotml.dtd">
      <plot>
        <size width="450" height="300"/>
        <title>Modulated Waveform Example</title>
      </plot>
    ]]></configure>
  </entity>

  <!-- Make the connections -->
  <relation name="r1" class="ptolemy.actor.TypedIORelation"></relation>
  <link port="carrier.output" relation="r1"/>
  <link port="mult.multiply" relation="r1"/>

  <relation name="r2" class="ptolemy.actor.TypedIORelation"></relation>
  <link port="signal.output" relation="r2"/>
  <link port="mult.multiply" relation="r2"/>
  <link port="display.input" relation="r2"/>

  <relation name="r3" class="ptolemy.actor.TypedIORelation"></relation>
  <link port="mult.output" relation="r3"/>
  <link port="display.input" relation="r3"/>
</model>