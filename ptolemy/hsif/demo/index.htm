<!-- $Id$ -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<title>Ptolemy II</title>
<link href="../../../../doc/default.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>HSIF To MoML</h1>
<P>
The Hybrid System Interchange Format (HSIF), was developed by the
 <!-- #in_browser causes HTMLViewer to spawn a separate browser -->
<a href="http://www.isis.vanderbilt.edu#in_browser">Institute of Software Integrated Systems (ISIS) at Vanderbit University</a>
as part of the <a href="http://www.isis.vanderbilt.edu/Projects/mobies/default.html">ISIS MoBIES</a> effort.
<br> The HSIF documentation states:

<blockquote>
The goal of HSIF is to define an interchange format for hybrid system
models that can be shared between modeling and analysis tools. HSIF
models represent dynamic systems, whose dynamics includes both
continuous and discrete behaviors.
</blockquote>

Haiyang Zheng developed a set of XSLT files that convert
HSIF into MoML, the XML format used to represent Ptolemy II Models.

<h2>Models</h2>
<p>To run the HSIF models either use HyVisual or invoke vergil with the
<code>-hyvisual</code> flag so that the HSIF configuration is used.

<p>If HyVisual or vergil is properly configured, then the HSIF model
is opened, converted to a MoML file with a similar name and then
the MoML file is opened displayed.  
<br>To properly layout the model, select <code>Graph</code> -&gt;
<code>Automatic Layout</code>

<ul>
<li> <a href="SwimmingPool/SwimmingPool.xml"><CODE>SwimmingPool.xml</CODE></a> - HSIF file that gets converted to <CODE>SwimmingPool_moml.xml</CODE>
and opened
<li> <a href="Thermostat/Thermostat.xml"><CODE>Thermostat.xml</CODE></a> - HSIF file that gets converted to <CODE>Thermostat_moml.xml</CODE>
and opened
</ul>

<h2>How it works</h2>
HyVisual and <code>vergil -hyvisual</code> both add the 
the HSIFEffigyFactory class to the list of EffigyFactories before
the standard Ptolemy Effigy so that when an xml file is opened, 
HSIFEffigyFactory first checks to see if the file is a HSIF file.
<br>If the file is not an HSIF file, then HSIFEffigyFactory does nothing
and the standard Ptolemy Effigy is run on the xml file.

<p>If the file <b>is</b> an HSIF file, then we convert the file
to MoML by running a series of XSL transformations on it.
<!-- a list of the different transformations would be useful -->

<p>If the HSIF file was named <code><i>foo.xml<i></code>, then
the resulting MoML file will be named <code><i>foo</i>_moml<i>.xml</i></code>.


</body>
</html>
