<!-- $Id$ -->
<html>
<head>
<title>ptolemy.cg.kernel.generic.program.fmima</title>
</head>
<body>
Generate code for the Functional Mockup Unit Master Algorithm (FMIMA)
<pre>
$PTII/bin/ptcg -generatorPackage ptolemy.cg.kernel.generic.program.procedural.fmima \
    -generatorPackagelist generic.program.procedural.fmima \
    $PTII/ptolemy/cg/kernel/generic/program/procedural/fmima/test/auto/FMUIncScale20RC1pt.xml
</pre>

<h2>Overview</h2>
<p>The <code>ptolemy.cg</code> has a lot of classes, but the FMIMA work consists of only a few classes.</p>

<p>The easist way to work with the code is to look for the <code>fmima</code> directories and then the <code>.java</code> files</p>
<pre>
bash-3.2$ cd $PTII/ptolemy/cg
bash-3.2$ find . -name fmima
./adapter/generic/program/procedural/fmima
./kernel/generic/program/procedural/fmima
bash-3.2$ find ./adapter/generic/program/procedural/fmima -name "*.java"
./adapter/generic/program/procedural/fmima/adapters/ptolemy/actor/Director.java
./adapter/generic/program/procedural/fmima/adapters/ptolemy/actor/lib/fmi/FMUImport.java
./adapter/generic/program/procedural/fmima/adapters/ptolemy/actor/TypedCompositeActor.java
./adapter/generic/program/procedural/fmima/test/junit/JUnitTclTest.java
bash-3.2$ find ./kernel/generic/program/procedural/fmima -name "*.java"
./kernel/generic/program/procedural/fmima/FMIMACodeGenerator.java
./kernel/generic/program/procedural/fmima/FMIMACodeGeneratorAdapter.java
./kernel/generic/program/procedural/fmima/test/junit/JUnitTclTest.java
bash-3.2$ 
</pre>

<h2>Invoking</h2>
<p>The main entry point is <code>$PTII/ptolemy/cg/kernel/generic/program/procedural/fmima/FMIMACodeGenerator.java</code>.  When the code generator is invoked, that class is instantiated.</p>

<p>Below is the command to run a sample model:</p>

<pre>
$PTII/bin/ptcg -generatorPackage ptolemy.cg.kernel.generic.program.procedural.fmima \
    -generatorPackagelist generic.program.procedural.fmima \
    $PTII/ptolemy/cg/kernel/generic/program/procedural/fmima/test/auto/FMUIncScale20RC1pt.xml
</pre>

<dl>
  <dt><code>$PTII/bin/ptcg</code></dt>
  <dd>The command that invokes ptolemy.cg.kernel.generic.GenericCodeGenerator with the appropriate classpath.</dd>
  <dt><code>-generatorPackage ptolemy.cg.kernel.generic.program.procedural.fmima</code></dt>
  <dd>The Java package of code generator, defaults to ptolemy.cg.kernel.generic.program.procedural.c</dd>
  <dt><code>-generatorPackagelist generic.program.procedural.fmima</code></dt>
  <dd>Semicolon or * separated list of Java packages to be searched for adapters. The "ptolemy.cg.adapter." string is prepended </dd>
  <dt>$PTII/ptolemy/cg/kernel/generic/program/procedural/fmima/test/auto/FMUIncScale20RC1pt.xml</dt>
  <dd>The Ptolemy model to be invoked</dd>
</dl>

<p>Run <code>$PTII/bin/ptcg -help</code> to see other command line arguments.</p> 

<h2>How it works</h2>
<p>In a nut shell, the code iterates through the model, finding actors and attributes.  An adapter class is searched for that will handle each actor and attribute.  If an adapter is not found, then an adapter for the parent class of the actor or attribute is searched for.</p>



<p>
@since Ptolemy II 10.0
</body>
</html>
