<!-- $Id$-->
<HTML>
<HEAD>
<TITLE>Codesign</TITLE>
</HEAD>
<BODY>
<H1>Codesign</H1></CENTER>
The following applet uses Ptolemy II DE domain and CT domain architectures to
simulate a digital feedback system with interruptible processor model.
<CENTER>
<P><APPLET name="SigmaDeltaApplet"
   bgcolor=#FAF0E6
   archive="ptolemy/domains/de/demo/demo.jar,
	ptolemy/domains/de/de.jar,
	ptolemy/domains/ct/ct.jar,
	ptolemy/ptsupport.jar"
   archive="ptolemy/domains/de/demo/clockapplet.jar"
   code=ptolemy.domains.de.demo.SigmaDeltaApplet.class
   codebase=../../../..
   width=600 height=420>
<param name="background" value="#faf0e6">
<BR><I>If you were able to run applets, you would have a waveform demo
here.</I>
<BR></APPLET></CENTER>


This demo is an extension from 
<A HREF="../../ct/demo/SigmaDelta.html">a CT domain demo</A> 
 by Jie Liu. The extension
emphasizes on the effect of the random delay caused by the interruptible
processor model.
<p>
The processor behaves as follows. Without interrupts, each demand
takes a fixed minimum service time to serve. With interrupts, the service
time is increased by the number of interrupt events during the service period
multiplied by a fixed interrupt service time.
<p>
In the CTPlot, the red curve ("Position") is the beam position; the blue
one ("Input") is the acceleration input; the green one ("Control") is
the feedback control input from the digital controller. In the DEPlot,
the red dots are the (digital) output of the accumulator; the blue dots
are the output of the one bit quantizer.
<p>
In this particular sigma delta converter case, the processor delay
may not make sense (unless the user is modeling the transmission line
delay from the sampler to the filter). But in general, if we consider the 
continuous part of the system as a plant, and the discrete event part 
as the digital controller implemented by embedded software, then the
processor delay will impact the control result.
<p>
Different parameters for the processor model can be chosen. MST (Minimum
Service Time) indicate the amount of time needed to process an event, if there
is no interrupt. IST (Interrupt Service Time) is the amount of time needed
to process an interrupt. Note that the interrupts preempts the inputs. Lambda
represents the inter-arrival time of the Poisson process modeling the
interrupt arrival. Lastly, stop time is just the time when simulation stops.

<P>This applet is implemented by
<TT><A HREF="SigmaDeltaApplet.java">SigmaDeltaApplet.java</A></TT>.
<P>The simulation consists of a <A HREF="../lib/DEClock.java">Clock</A>
Actor, a
<A HREF="../lib/DERamp.java">Ramp</A> Actor,
<A HREF="../lib/DEProcessor.java">DEProcessor</A> Actor,
<A HREF="../lib/InterruptibleServer.java">InterruptibleServer</A> Actor,
<A HREF="../lib/DESampler.java">DESampler</A> Actor,
and a <A HREF="../lib/DEPoisson.java">DEPoisson</A>
Actor connected to a <A HREF="../lib/DEPlot.java">Plot</A> Actor.
<BR>
<CENTER>
<IMG SRC="img/SigmaDelta.gif">
</CENTER>

<p><font size="2" color="#cc0000">Last Updated: $Date$</font>
</BODY>
</HTML>
