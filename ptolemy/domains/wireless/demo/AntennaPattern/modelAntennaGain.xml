<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="modelAntennaGain" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="3.1-devel">
    </property>
    <property name="WirelessDirector" class="ptolemy.domains.wireless.kernel.WirelessDirector">
        <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="37.0">
        </property>
        <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
        </property>
        <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
        </property>
        <property name="randomizeLocations" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="25.0, 50.0">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 159, 801, 608}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[586, 492]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.Parameter" value="1.0">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.Parameter" value="{245.5316722972973, 257.2899070945946}">
    </property>
    <property name="annotation" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This example illustrates modeling transmit antenna gain.
The Sender has an 8-element beamforming antenna with a
steering angle applied. When you run this model, the
Receiver will move around the Sender and measure the
received power. It then plots the receive power on a
polar plot, with the distance from the origin representing
the received power, and the angle representing the angle
of its position relative to the transmitter.  In effect,
it measures and displays the antenna gain pattern of
the Sender. </text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 305.0">
        </property>
    </property>
    <property name="annotation3" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:darkgray">Author: Yang Zhao</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.XMLIcon">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="-45.0, 65.0">
        </property>
    </property>
    <entity name="PowerLossChannel" class="ptolemy.domains.wireless.lib.PowerLossChannel">
        <property name="defaultProperties" class="ptolemy.data.expr.Parameter" value="{range=Infinity, power=1.0}">
        </property>
        <property name="powerLossFactor" class="ptolemy.data.expr.Parameter" value="efficiency">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 50.0">
        </property>
    </entity>
    <entity name="Receiver" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[233.4807753012209, 227.6351822333074]">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, -20.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 126, 902, 655}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[687, 539]">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Receive the signal, extract its received power,
and display the received power on a polar plot
where the angle is the angle of the position
of this actor relative to the position of the
Sender.</text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="175.0, -60.0">
            </property>
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.Parameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.Parameter" value="{300.0, 200.0}">
        </property>
        <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Reverse Y direction (the plotter&#10;has Y increasing upwards, and Vergil&#10;has Y increasing downwards).">
            </property>
            <property name="textSize" class="ptolemy.data.expr.Parameter" value="12">
            </property>
            <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,0.0,1.0}">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, 170.0">
            </property>
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="PowerLossChannel">
            </property>
            <property name="outsideTransmitProperties" class="ptolemy.data.expr.Parameter" value="{range=Infinity, power=1.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="5.0, 80.0">
            </property>
        </port>
        <entity name="GetProperties" class="ptolemy.domains.wireless.lib.GetProperties">
            <property name="_location" class="ptolemy.kernel.util.Location" value="105.0, 80.0">
            </property>
        </entity>
        <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 60.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="power" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
        </entity>
        <entity name="Ramp" class="ptolemy.actor.lib.Ramp">
            <property name="init" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="step" class="ptolemy.actor.parameters.PortParameter" value="-2*PI/36">
            </property>
            <doc>Create a sequence of tokens with increasing value</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 270.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.XMLIcon">
            </property>
        </entity>
        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="_location">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="490.0, 260.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.XMLIcon">
            </property>
        </entity>
        <entity name="Ramp2" class="ptolemy.actor.lib.Ramp">
            <property name="init" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="step" class="ptolemy.actor.parameters.PortParameter" value="-2*PI/36">
            </property>
            <doc>Create a sequence of tokens with increasing value</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 195.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.XMLIcon">
            </property>
        </entity>
        <entity name="Clock" class="ptolemy.actor.lib.Clock">
            <property name="period" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="offsets" class="ptolemy.data.expr.Parameter" value="{0.0}">
            </property>
            <property name="values" class="ptolemy.data.expr.Parameter" value="{1.0}">
            </property>
            <doc>Create a set of pulses</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="10.0, 185.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.XMLIcon">
            </property>
        </entity>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="[cos(x)*100 + 135, sin(y)*100 + 245]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="320.0, 260.0">
            </property>
            <port name="x" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="y" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="XYPlotter" class="ptolemy.actor.lib.gui.XYPlotter">
            <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={627, -2, 392, 415}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[384, 360]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 105.0">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Received Signal Power and Direction</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="-0.5" max="0.5"/>
<yRange min="-0.5" max="0.5"/>
</plot>?>
            </configure>
        </entity>
        <entity name="PolarToCartesian" class="ptolemy.actor.lib.conversions.PolarToCartesian">
            <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 105.0">
            </property>
        </entity>
        <entity name="Scale" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="-1.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="365.0, 145.0">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="60.0, 80.0">
            </vertex>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="205.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="55.0, 185.0">
            </vertex>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="180.0, 270.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation"/>
        <link port="GetProperties.output" relation="relation4"/>
        <link port="GetProperties.trigger" relation="relation"/>
        <link port="RecordDisassembler.input" relation="relation4"/>
        <link port="RecordDisassembler.power" relation="relation9"/>
        <link port="Ramp.output" relation="relation8"/>
        <link port="Ramp.trigger" relation="relation6"/>
        <link port="SetVariable.input" relation="relation7"/>
        <link port="Ramp2.output" relation="relation5"/>
        <link port="Ramp2.trigger" relation="relation6"/>
        <link port="Clock.output" relation="relation6"/>
        <link port="Expression.output" relation="relation7"/>
        <link port="Expression.x" relation="relation5"/>
        <link port="Expression.y" relation="relation8"/>
        <link port="XYPlotter.inputX" relation="relation3"/>
        <link port="XYPlotter.inputY" relation="relation2"/>
        <link port="PolarToCartesian.magnitude" relation="relation9"/>
        <link port="PolarToCartesian.angle" relation="relation8"/>
        <link port="PolarToCartesian.x" relation="relation3"/>
        <link port="PolarToCartesian.y" relation="relation10"/>
        <link port="Scale.input" relation="relation10"/>
        <link port="Scale.output" relation="relation2"/>
    </entity>
    <entity name="Sender" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="135.0, 245.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={64, 202, 699, 516}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[484, 400]">
        </property>
        <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="The TransmitPropertyTransformer actor delegates to&#10;another Ptolemy II model to calculate the&#10;transmit properties.">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 230.0">
            </property>
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.Parameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.Parameter" value="{242.0, 200.0}">
        </property>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="PowerLossChannel">
            </property>
            <property name="outsideTransmitProperties" class="ptolemy.data.expr.Parameter" value="{range=Infinity, power=1.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 170.0">
            </property>
        </port>
        <entity name="Clock" class="ptolemy.actor.lib.Clock">
            <property name="period" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="offsets" class="ptolemy.data.expr.Parameter" value="{0.1}">
            </property>
            <property name="values" class="ptolemy.data.expr.Parameter" value="{1.0}">
            </property>
            <doc>Create a set of pulses</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="95.0, 170.0">
            </property>
        </entity>
        <entity name="TransmitPropertyTransformer" class="ptolemy.domains.wireless.lib.TransmitPropertyTransformer">
            <property name="modelFileOrURL" class="ptolemy.data.expr.FileParameter" value="phasedArrayAntennaIteration.xml">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="195.0, 170.0">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="out" relation="relation2"/>
        <link port="Clock.output" relation="relation"/>
        <link port="TransmitPropertyTransformer.input" relation="relation"/>
        <link port="TransmitPropertyTransformer.output" relation="relation2"/>
    </entity>
</entity>
