<!-- : $Id$
  @author: Xiaojun Liu and Edward A. Lee
 -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<title>Hierarchy</title>
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
</head>
<body>
<H1>Hierarchical Giotto Model</H1>
<P>
This example has no interesting functionality,
but carefully illustrates the semantics of Giotto,
and is easy to follow.
It is defined by the following block diagram:
<CENTER>
<P><!--"CONVERTED_APPLET"-->
<!-- CONVERTER VERSION 1.0 -->
<OBJECT classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93"
    WIDTH = 600
    HEIGHT = 550
    NAME = "Vergil"
    codebase="http://java.sun.com/products/plugin/1.3/jinstall-13-win32.cab#Version=1,3,0,0">
<PARAM NAME = CODE VALUE = ptolemy.vergil.MoMLViewerApplet>
<PARAM NAME = CODEBASE VALUE = ../../../../..>
<PARAM NAME=ARCHIVE VALUE="
	ptolemy/ptsupport.jar,
	lib/diva.jar,
	ptolemy/vergil/vergilapplet.jar,
	ptolemy/domains/sdf/sdf.jar">
<PARAM NAME = NAME VALUE = "HierarchyVergil" >
<PARAM NAME = "type" VALUE="application/x-java-applet;version=1.3">
<PARAM NAME = "background" VALUE = "#faf0e6">
<PARAM NAME = "modelURL" VALUE = "Hierarchy.xml">
<PARAM NAME = "includeRunPanel" VALUE="true">
<COMMENT>
<EMBED type="application/x-java-applet;version=1.3"
 code="ptolemy.vergil.MoMLViewerApplet"
 codebase=../../../../..
 archive="
	ptolemy/ptsupport.jar,
	lib/diva.jar,
	ptolemy/vergil/vergilapplet.jar,
	ptolemy/domains/sdf/sdf.jar"
 NAME = "Hierarchy"
 WIDTH = 600
 HEIGHT = 550
 background="#faf0e6"
 modelURL="Hierarchy.xml"
 includeRunPanel="true"
 pluginspage="http://java.sun.com/products/plugin/1.3/plugin-install.html">
</COMMENT>
<NOEMBED>
<a href="Hierarchy.xml">MoML specification for this model.</a>
</NOEMBED>
</EMBED>
</OBJECT>
</CENTER>
<P>
The model consists of a constant source that produces the value
1, a pair of composites that function as accumulators, simply
adding the current value to a running  sum, and a plotter.
The source and the upper composite run at frequency 1, meaning
that they get invoked once per iteration.  The lower composite
and the plotter run at frequency 2, meaning that they are invoked
twice per iteration.
<p>
The composites are defined as follows:
<CENTER>
<P><!--"CONVERTED_APPLET"-->
<!-- CONVERTER VERSION 1.0 -->
<OBJECT classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93"
    WIDTH = 600
    HEIGHT = 200
    NAME = "Vergil"
    codebase="http://java.sun.com/products/plugin/1.3/jinstall-13-win32.cab#Version=1,3,0,0">
<PARAM NAME = CODE VALUE = ptolemy.vergil.MoMLViewerApplet>
<PARAM NAME = CODEBASE VALUE = ../../../../..>
<PARAM NAME=ARCHIVE VALUE="
	ptolemy/ptsupport.jar,
	lib/diva.jar,
	ptolemy/vergil/vergilapplet.jar,
	ptolemy/domains/sdf/sdf.jar">
<PARAM NAME = NAME VALUE = "HierarchyVergil" >
<PARAM NAME = "type" VALUE="application/x-java-applet;version=1.3">
<PARAM NAME = "background" VALUE = "#faf0e6">
<PARAM NAME = "modelURL" VALUE = "composite.xml">
<COMMENT>
<EMBED type="application/x-java-applet;version=1.3"
 code="ptolemy.vergil.MoMLViewerApplet"
 codebase=../../../../..
 archive="
	ptolemy/ptsupport.jar,
	lib/diva.jar,
	ptolemy/vergil/vergilapplet.jar,
	ptolemy/domains/sdf/sdf.jar"
 NAME = "composite"
 WIDTH = 600
 HEIGHT = 200
 background="#faf0e6"
 modelURL="composite.xml"
 pluginspage="http://java.sun.com/products/plugin/1.3/plugin-install.html">
</COMMENT>
<NOEMBED>
<a href="composite.xml">MoML specification for this model.</a>
</NOEMBED>
</EMBED>
</OBJECT>
</CENTER>
<p>
They contain an adder that adds the current input to the
previous output, in a feedback loop.  This illustrates the Giotto
semantic property that on each arc, the output value from the
previous iteration is available.
<p>
The composite has a parameter, <i>internalFrequency</i>, which
sets the frequency of each adder.  The upper composite has this
frequency set to 3, and the lower has it set to 2.  Because of this,
each invocation of the upper composite adds 3 to the running sum,
and each invocation of the bottom composite adds 2 to its running
sum.  The upper composite is invoked half as often as the plotter,
which is why its output values are each plotted twice.
</body>
</html>
