<?xml version="1.0" standalone="no"?>
<!DOCTYPE class PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<class name="MaximumEntropySpectrum" extends="ptolemy.actor.TypedCompositeActor">
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 663]">
    </property>
    <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[-4, -4]">
    </property>
    <property name="Copy1:3:0:annotation1" class="ptolemy.kernel.util.Attribute">
        <property name="_location" class="ptolemy.moml.Location" value="265.0, 91.0">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
           <svg>
           <text x="20" style="font-size:14; font-family:sanserif; fill:blue" y="20">This composite actor estimates the power spectrum of an input using
the maximum-entropy method.  This method estimates the autocorrelation,
then constructs a minimum-mean-square-error (MMSE) linear predictor
for that autocorrelation.  The frequency response of the prediction
error filter is then found and inverted to yield the power spectral
estimate. The number of inputs required to produce any output is a
parameter, and the number of outputs produced will be 2^(log2resolution).
The order parameter specifies the number of coefficients of linear
predictor. The output represents frequencies from -pi to pi
radians per second, centered at zero frequency, in decibels (dB).</text>
           </svg>
           </configure>
        </property>
    </property>
    <property name="order" class="ptolemy.data.expr.Parameter" value="8">
    </property>
    <property name="numberOfInputs" class="ptolemy.data.expr.Parameter" value="256">
    </property>
    <property name="log2resolution" class="ptolemy.data.expr.Parameter" value="8">
    </property>
    <port name="input" class="ptolemy.actor.TypedIOPort">
        <property name="input"/>
        <property name="location1" class="ptolemy.moml.Location" value="37.0, 238.0">
        </property>
    </port>
    <port name="output" class="ptolemy.actor.TypedIOPort">
        <property name="output"/>
        <property name="location1" class="ptolemy.moml.Location" value="580.0, 480.0">
        </property>
    </port>
    <entity name="Pulse" class="ptolemy.actor.lib.Pulse">
        <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="indexes" class="ptolemy.data.expr.Parameter" value="{0, 1}">
        </property>
        <property name="values" class="ptolemy.data.expr.Parameter" value="{1.0, -1.0}">
        </property>
        <property name="repeat" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="58.0, 303.0">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
    </entity>
    <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
        <property name="_location" class="ptolemy.moml.Location" value="163.0, 245.0">
        </property>
        <port name="multiply" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
        <port name="divide" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="Autocorrelation" class="ptolemy.domains.sdf.lib.Autocorrelation">
        <property name="numberOfInputs" class="ptolemy.data.expr.Parameter" value="numberOfInputs">
        </property>
        <property name="numberOfLags" class="ptolemy.data.expr.Parameter" value="order">
        </property>
        <property name="biased" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="symmetricOutput" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <doc>Autocorrelation estimator</doc>
        <property name="_location" class="ptolemy.moml.Location" value="267.0, 253.0">
        </property>
        <port name="input" class="ptolemy.domains.sdf.kernel.SDFIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="256">
            </property>
            <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
        </port>
        <port name="output" class="ptolemy.domains.sdf.kernel.SDFIOPort">
            <property name="output"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
    </entity>
    <entity name="LevinsonDurbin" class="ptolemy.actor.lib.LevinsonDurbin">
        <property name="_location" class="ptolemy.moml.Location" value="371.0, 253.0">
        </property>
        <port name="autocorrelation" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="errorPower" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="linearPredictor" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="reflectionCoefficients" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="Scale" class="ptolemy.actor.lib.Scale">
        <property name="factor" class="ptolemy.data.expr.Parameter" value="-1.0">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="470.0, 265.0">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="ArrayAppend" class="ptolemy.actor.lib.ArrayAppend">
        <property name="_location" class="ptolemy.moml.Location" value="272.0, 361.0">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="Const" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="{1.0}">
        </property>
        <doc>Create a constant sequence</doc>
        <property name="_location" class="ptolemy.moml.Location" value="159.0, 362.0">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
    </entity>
    <entity name="ArrayToSequence" class="ptolemy.domains.sdf.lib.ArrayToSequence">
        <property name="arrayLength" class="ptolemy.data.expr.Parameter" value="order + 1">
        </property>
        <property name="enforceArrayLength" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="385.0, 361.0">
        </property>
        <port name="input" class="ptolemy.domains.sdf.kernel.SDFIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
        </port>
        <port name="output" class="ptolemy.domains.sdf.kernel.SDFIOPort">
            <property name="output"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="9">
            </property>
        </port>
    </entity>
    <entity name="FFT" class="ptolemy.domains.sdf.lib.FFT">
        <property name="order" class="ptolemy.data.expr.Parameter" value="log2resolution">
        </property>
        <doc>Forward Fast Fourier Transform</doc>
        <property name="_location" class="ptolemy.moml.Location" value="479.0, 362.0">
        </property>
        <port name="input" class="ptolemy.domains.sdf.kernel.SDFIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="256">
            </property>
            <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
        </port>
        <port name="output" class="ptolemy.domains.sdf.kernel.SDFIOPort">
            <property name="output"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="256">
            </property>
        </port>
    </entity>
    <entity name="AbsoluteValue" class="ptolemy.actor.lib.AbsoluteValue">
        <property name="_location" class="ptolemy.moml.Location" value="161.0, 489.0">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="MultiplyDivide11" class="ptolemy.actor.lib.MultiplyDivide">
        <property name="_location" class="ptolemy.moml.Location" value="350.0, 480.0">
        </property>
        <port name="multiply" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
        <port name="divide" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="DB" class="ptolemy.actor.lib.DB">
        <property name="inputIsPower" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="min" class="ptolemy.data.expr.Parameter" value="-100.0">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="465.0, 481.0">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="ArrayElement" class="ptolemy.actor.lib.ArrayElement">
        <property name="index" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="492.0, 190.0">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" class="ptolemy.moml.Vertex" value="93.0, 407.0">
        </vertex>
    </relation>
    <relation name="relation16" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation17" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation19" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" class="ptolemy.moml.Vertex" value="543.0, 432.0">
        </vertex>
    </relation>
    <relation name="relation20" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="input" relation="relation"/>
    <link port="output" relation="relation20"/>
    <link port="Pulse.output" relation="relation2"/>
    <link port="MultiplyDivide.multiply" relation="relation"/>
    <link port="MultiplyDivide.multiply" relation="relation2"/>
    <link port="MultiplyDivide.output" relation="relation3"/>
    <link port="Autocorrelation.input" relation="relation3"/>
    <link port="Autocorrelation.output" relation="relation4"/>
    <link port="LevinsonDurbin.autocorrelation" relation="relation4"/>
    <link port="LevinsonDurbin.errorPower" relation="relation17"/>
    <link port="LevinsonDurbin.linearPredictor" relation="relation5"/>
    <link port="Scale.input" relation="relation5"/>
    <link port="Scale.output" relation="relation7"/>
    <link port="ArrayAppend.input" relation="relation6"/>
    <link port="ArrayAppend.input" relation="relation7"/>
    <link port="ArrayAppend.output" relation="relation8"/>
    <link port="Const.output" relation="relation6"/>
    <link port="ArrayToSequence.input" relation="relation8"/>
    <link port="ArrayToSequence.output" relation="relation9"/>
    <link port="FFT.input" relation="relation9"/>
    <link port="FFT.output" relation="relation15"/>
    <link port="AbsoluteValue.input" relation="relation15"/>
    <link port="AbsoluteValue.output" relation="relation14"/>
    <link port="MultiplyDivide11.multiply" relation="relation19"/>
    <link port="MultiplyDivide11.divide" relation="relation14"/>
    <link port="MultiplyDivide11.output" relation="relation16"/>
    <link port="DB.input" relation="relation16"/>
    <link port="DB.output" relation="relation20"/>
    <link port="ArrayElement.input" relation="relation17"/>
    <link port="ArrayElement.output" relation="relation19"/>
</class>
