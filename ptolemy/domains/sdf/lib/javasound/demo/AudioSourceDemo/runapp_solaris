#!/bin/sh

# This script will execute a Java application that uses Java Sound.
# Pass the name of the application as the first parameter. 
# If you specify a second parameter, it will be passed to the application.
 

# This should specify the location of your Solaris JDK.
# Modify this variable as needed.
DEFAULT_JAVA_HOME=/opt/jdk1.2latest

# This should specify the location of the Java Sound install.
# Modify this variable as needed.
SOUND_HOME=/users/vogel/bkv_local/javasound086

# You should not need to modify the script beyond this point.

TEST_NAME=$1
TEST_PARAM=$2

if [ -z "${JAVA_HOME}" ] ; then
    if [ -d ${DEFAULT_JAVA_HOME} ] ; then
        JAVA_HOME=${DEFAULT_JAVA_HOME}
    else
        echo "JAVA_HOME environment variable not set." 1>&2 
        exit 1
    fi
fi

EXAMPLES_HOME=${SOUND_HOME}/examples
EXAMPLES_CLASSPATH=.:${SOUND_HOME}/lib/sound.jar:${EXAMPLES_HOME}/sampled:${EXAMPLES_HOME}/midi:../../../../../../..

LD_LIBRARY_PATH=${SOUND_HOME}/lib:${LD_LIBRARY_PATH}
export LD_LIBRARY_PATH

CLASSPATH=${EXAMPLES_CLASSPATH}:${CLASSPATH}:${JAVA_HOME}/lib/classes.zip
JAVA=${JAVA_HOME}/bin/java

CMD="${JAVA} -classpath ${CLASSPATH} ${TEST_NAME} ${TEST_PARAM}"

echo ${CMD}
${CMD}
