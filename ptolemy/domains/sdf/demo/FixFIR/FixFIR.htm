<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<TITLE>Communication Link - Physical Level</TITLE>
<META NAME="Template" CONTENT="C:\Program Files\Microsoft Office\Office\html.dot">
<LINK href="../../../../../doc/default.css" rel="stylesheet" type="text/css"></HEAD>
<BODY LINK="#0000ff" VLINK="#800080">

<P ALIGN="CENTER"><!-- $Id$--></P>
<H1 ALIGN="CENTER">Type Polymorphic FIR filter demo</H1>
<B><I><FONT FACE="Arial"><P>Demo</P>
</B></I></FONT><P>This demo shows the transfer function of a type polymorphic FIR filter, i.e., a FIR filter that operates on a stream of tokens of arbitrary type. Thus, the same FIR filter can operate on fix point tokens, double tokens, or complex tokens. The response of a FIR filter operating on fix point tokens wills differ from a FIR filter operating on double tokens since a finite precision is used. The plot generated shows the effects of the use of finite precision.</P>
<B><I><FONT FACE="Arial"><P>System</P>
</B></I></FONT><P>The structure of the system used in the demo is given in the figure below. A pulse is send through three different instances of the same FIR filter. The top FIR filter is a regular FIR filter operating on a stream of double token, the middle FIR filter operates on a stream of doubles, but uses taps that have been quantized using the <FONT FACE="Courier New" SIZE=2>quantize()</FONT> function in the expression language. The quantize function fits the taps of the FIR filter into a X bit representation of which Y bits are used for the interger part. The lower FIR filter operates directly on fix point tokens. Since an automatic conversion from doubles to fix points does not exist in the type lattice (See type demo), the stream of double tokens produced by the impulse is explicitly converted into a stream of fix point tokens. This instance of the FIR filter uses fix point versions of the tap coefficients using the <FONT FACE="Courier New" SIZE=2>fix()</FONT><FONT SIZE=2> </FONT>function in the expression language. This function convert each tap value into a fix point representation using X bits of which Y bits are used to represent the integer part. </P>
<P>&nbsp;</P>
<P><IMG SRC="fixfir.gif" WIDTH=574 HEIGHT=401></P>
<P>The streams of tokens produced by the three different FIR filters is send through three instances of a FFT. The FFT is described as a composite entity and is cloned two more times. The FFT conversion starts by multiplying the incoming signal with alternatively 1 and -1. This signal is send though an FFT. The complex signal that is created by the FFT is converted into real numbers by ignoring the imaginary part. Next, the coordinate system is changed to polar coordinates and converted into dB format. The resulting three signals are displayed in the plotter.</P>
<B><I><FONT FACE="Arial"><P>Result</P>
</B></I></FONT><P>The response transfer from the three FIR filters is different although the same taps values are used. This is the result of representing the taps of the FIR filter with finite precision that introduces quantization errors.</P>
<P>&nbsp;</P>
<P>&nbsp; </P>
<P><!-- All of the controls of the applet should be visible when the
applet is displayed on a XGA screen--><!-- The HTML below is for the Java Plugin.  The first 
     section is for IE, the second is for Netscape
 --><OBJECT classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" width=600 height=450 name="FixFIR" codebase="http://java.sun.com/products/plugin/1.2/jinstall-12-win32.cab#Version=1,2,0,0"><PARAM NAME=CODE VALUE=ptolemy.domains.sdf.demo.FixFIR.FixFIR.class><PARAM NAME=CODEBASE VALUE=../../../../..><PARAM NAME=NAME VALUE="FixFIR"><PARAM NAME="type" VALUE="application/x-java-applet;version=1.2"><PARAM NAME="background" VALUE="#faf0e6"><param name="defaultIterations" value="1"><EMBED type="application/x-java-applet;version=1.2" code=ptolemy.domains.sdf.demo.FixFIR.FixFIR codebase=../../../../.. java_CODE=ptolemy.domains.sdf.demo.FixFIR.FixFIR.class java_CODEBASE=../../../../.. name="FixFIR" width=600 height=450 background="#faf0e6" defaultIterations="1" pluginspage="http://java.sun.com/products/plugin/1.2/plugin-install.html"><NOEMBED><I>If you were able to run applets, you would have a demo here.</I> 
<P ALIGN="CENTER"></NOEMBED></EMBED></OBJECT></P>
<FONT SIZE=2 COLOR="#ff0000"><P>Last Updated: $Date$</FONT> </P></BODY>
</HTML>
