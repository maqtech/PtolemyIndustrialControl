<html>
<head>
<!-- $Id$ -->
<!--

This file has pointers to tours of what's new in version 9.0

The version number should match
ptolemy.kernel.attributes.VersionAttribute.CURRENT_VERSION
so that we can easily find and update the version number

-->
<link href="../../../doc/default.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Tour of What's New in Version 10.0.devel</h1>
See also <a href="whatsNew.htm">What's New in other versions</a>.

<p>Contents:
<ul>
<li> <a href="#highlights">Highlights</a>
    <ul>
      <li><a href="#Ontologies">Ontologies</a></li>
      <li><a href="#ExportToWeb">Export to web</a></li>
      <li><a href="#CGCodeGeneration">CG Code Generator</a></li>
      <li><a href="#ModalModelUpdates">FSM/Modal Model updates</a></li>
      <li><a href="#Pthales">Pthales Model of Computation</a></li>
    </ul>
<li> <a href="#demos">New demonstrations</a>
<li> <a href="#other">Other Key New Capabilities</a>
<li> <a href="#libraries">New and Enhanced Actor Libraries</a>
<li> <a href="#features">Additional features</a>
<li> <a href="#worksinprogress">Works in Progress</a>
<li> <a href="#bugs">Bug fixes</a>
</ul>

<h2><a name="highlights">Highlights</a></h2>

<p>Ptolemy II 10.0 is the first complete release since Ptolemy II 8.0 and thus includes many changes.</p>

<p>The key driving force for the release is to be a companion to the Ptolemy Book:
<br/>Claudius Ptolemaeus, Editor, "<a href="http://ptolemy.eecs.berkeley.edu/books/Systems/index.htm#in_browser">System Design, Modeling, and Simulation Using Ptolemy II</a>", Ptolemy.org, 2014.
 (included in the release as <a href="../../../doc/books/systems/PtolemyII_DigitalV1_02.pdf#in_browser"><code>$PTII/doc/books/systems/PtolemyII_DigitalV1_02.pdf</code></a>)</p>

<p>Below are the highlights of this release.</p>

<h3><a name="Ontologies">Ontologies</a></h3>

The Ptolemy II Ontologies package extends the Ptolemy II type
inference engine to provide an efficient and scalable framework for
general static analysis of arbitrary properties on a Ptolemy
model. The framework supports properties that are specified as
concepts in an ontology graph that must be structured as a
lattice. The usefulness of this framework is demonstrated with an
example of a physical dimensions ontology. This ontology labels
different signals as representing acceleration, velocity, position,
and time. In a Ptolemy model of physical dynamics, the dimensional
properties of input and output signals can be automatically inferred
using the ontology analysis. Ptolemy model developers can use the
ontologies package to define their own ontologies for structural and
semantic property analysis. This can prevent interface connection
problems during model construction by identifying when incompatible
signals are erroneously connected. This work draws on concepts from
compiler optimization static analysis techniques and applies them to
Ptolemy actor-oriented models.

<p>See:
<br/>Patricia Derler, Elizabeth A. Latronico, Edward A. Lee, Man-Kit Leung,
Ben Lickly, Charles Shelton, "<a href="http://ptolemy.eecs.berkeley.edu/books/Systems/chapters/Ontologies.pdf#in_browser">Ontologies</a>," a chapter from
<br/>Claudius Ptolemaeus, Editor, "<a href="http://ptolemy.eecs.berkeley.edu/books/Systems/index.htm#in_browser">System Design, Modeling, and Simulation Using Ptolemy II</a>", Ptolemy.org, 2014.
 (included in the release as <a href="../../../doc/books/systems/PtolemyII_DigitalV1_02.pdf#in_browser"><code>$PTII/doc/books/systems/PtolemyII_DigitalV1_02.pdf</code></a>)</p>

<!-- a little space -->
<p> &nbsp;

<h3><a name="ExportToWeb">Export to Web</a></h3>

<p>Ptolemy II includes a flexible mechanism for creating web pages
from models and for building web services. The more basic mechanism is
the export to web , which simply makes a model available as a web page
for browsing using a web browser. Such a web page provides easy access
and documentation for models that archives both the structure of the
models and the results of executing the models. It can be used to
share information about models or their execution without requiring
installation of any software, since an ordinary web browser is
sufficient. More interestingly, the mechanism is extensible and
customizable, allowing for creation of fairly sophisticated web
pages. You can associate hyperlinks or actions defined in JavaScript
with icons in a model. The customization can be done for individual
icons in a model or for sets of icons in a model.</p>

<p>See:
<br/>Christopher Brooks, Edward A. Lee, Elizabeth A. Latronico, Baobing Wang, and
Roxana Gheorghui,
"<a href="http://ptolemy.eecs.berkeley.edu/books/Systems/chapters/WebInterfaces.pdf#in_browser">Web Interfaces</a>," a chapter from
<br/>Claudius Ptolemaeus, Editor, "<a href="http://ptolemy.eecs.berkeley.edu/books/Systems/index.htm#in_browser">System Design, Modeling, and Simulation Using Ptolemy II</a>", Ptolemy.org, 2014. 
 (included in the release as <a href="../../../doc/books/systems/PtolemyII_DigitalV1_02.pdf#in_browser"><code>$PTII/doc/books/systems/PtolemyII_DigitalV1_02.pdf</code></a>)</p>

<!-- a little space -->
<p> &nbsp;


 <h3><a name="CGCodeGeneration">CG Code Generator</a></h3>
<p>Ptolemy II 10.0 includes the "cg" code generator at <code>$PTII/ptolemy/cg</code>.  

    <p>We took the lessons learned from <code>$PTII/ptolemy/codegen</code>
    and applied them to cg.  In particular, cg more easily supports
    multiple backends with less code duplication.  The cg code
    generator is under active development, we are working on code
    generation for large systems.   For details about cg, see
      <a href="../../../ptolemy/cg/README.html"><code>$PTII/ptolemy/cg/README.html</code></a>.</p>

<p>Developers: Christopher Brooks, Dai Bui, Bert Rodiers, Stavros Tripakis</p>

<!-- a little space -->
<p> &nbsp;
 <h3><a name="ModalModelUpdates">FSM/Modal Model updates</a></h3>

<p>See:
<br/>Thomas Huining Feng, Edward A. Lee, Xiaojun Liu, Christian Motika,
Reinhard von Hanxleden, and Haiyang Zheng,
"<a href="http://ptolemy.eecs.berkeley.edu/books/Systems/chapters/FiniteStateMachines.pdf#in_browser">Finite State Machines</a>," 
and
<br/>Thomas Huining Feng, Edward A. Lee, Xiaojun Liu,
Stavros Tripakis, Haiyang Zheng, and Ye Zhou,
"<a href="http://ptolemy.eecs.berkeley.edu/books/Systems/chapters/ModalModels.pdf#in_browser">Modal Models</a>," 
<br>chapters from 
<br/>Claudius Ptolemaeus, Editor, "<a href="http://ptolemy.eecs.berkeley.edu/books/Systems/index.htm#in_browser">System Design, Modeling, and Simulation Using Ptolemy II</a>", Ptolemy.org, 2014.
(included in the release as <a href="../../../doc/books/systems/PtolemyII_DigitalV1_02.pdf#in_browser"><code>$PTII/doc/books/systems/PtolemyII_DigitalV1_02.pdf</code></a>)</p>

<!-- a little space -->
<p> &nbsp;
 <h3><a name="Pthales">Pthales Model of Computation</a></h3>
Pthales is a multidimensional dataflow model of computation implemented in the heterogeneous modeling environment Ptolemy II. This report gives a tutorial of Pthales and a formal analysis of Pthales semantics.

<p>
Remi Barrere, Eric Lenormand, Dai Bui, Edward A. Lee, Christopher Shaver and Stavros Tripakis,
"<a href="http://www.eecs.berkeley.edu/Pubs/TechRpts/2011/EECS-2011-32.pdf#in_browser">An Introduction to the Pthales Domain of Ptolemy II</a>," EECS Department, University of California, Berkeley, Technical Report No. UCB/EECS-2011-32, April 26, 2011.</p>


<h4>Demonstrations</h4>
<ul>
<ul>  
<h4>References</h4>
<ul>
</ul>

<!-- a little space -->
<p> &nbsp;

<h2><a name="demos">New demonstrations</a></h2>
<!-- grep "Only in" /tmp/pt78.diff | grep 10.0.devel | grep demo | awk '{if ($4 !~ /\./) {print "<a href=\"" $3 "/" $4}}' | sed 's@:/@/@'| sed 's@src/ptII10.0.devel/ptolemy@../..@' | sed 's@/\([^/]*$\)@/\1/\1.xml">\1</a>@' | sort -->

<!-- Please keep the domains alphabetical -->

<h3>Discrete Event (DE)</h3>
<ul>
<!-- Please keep the demos alphabetical -->
</ul>

<h3>Process Network (PN)</h3>
<ul>
</ul>  

<h3>Synchronous Dataflow (SDF)</h3>
<ul>
</ul>

<h3>Synchronous/Reactive (SR) </h3>

<h3><a name="pnCodegen">PN Code Generation</a></h3>
<ul>
</ul>

<h3><a name="sdfCodegen">SDF Code Generation</a></h3>
<ul>
</ul>

<h3>Wireless</h3>
<ul>
</ul>  

See also the <a href="completeDemos.htm">Complete Demonstrations</a> page.

<h2><a name="other">Other Key New Capabilities</a></h2>
<ul>

<h3> Feature</h3>
<ul>
  <li>Models for books
    <ul>
      <li><a href="../../doc/books/actors">$PTII/doc/books/actors</a></li>
      <li><a href="../../doc/books/systems">$PTII/doc/books/systems</a></li>
    </ul>
  <li>Limited Support for importing Functional Mockup Units
  <li><a href="ptdoc:ptolemy.domains.sysml.kernel.SysMLSequentialDirectory">SysML Domain</a> (<i>prototype</i>)
</ul>

<h2><a name="libraries">New and Enhanced Actor Libraries</a></h2>

<!--grep "Only in" /tmp/p.diffs | grep java | sed 's@Only in ptII10.0.devel/@@' |  sed 's@/@.@g' | sed 's@.java@@' | awk -F : '{print "<li><a href="\"ptdoc:"" $1 "." $2 "\">" $2 "</a>"}' | sed 's/\. /./' | sed 's/> />/' -->

<ul>
<li><i>New Domain Polymorphic actors</i>:
 <ul> 
   <li>ArrayUpdate
<blockquote>
<p> Patricia Derler, Chris Shaver, and Edward Lee have developed a starting
point for a much smarter way of handling arrays in dataflow
models...</p>

<p>In particular, there is now in the Array library an ArrayUpdate
actor, whose output is the same array as its input except that
one element is replaced with a new value.  Please try it out
for the radar model.</p>

<p>The key here is that this is done efficiently for large arrays.
The input array does not get copied. Instead, the output array
references the input array and encodes the diff.  The input
array is unchanged, and hence may be used safely by other
actors to which it is destined without introducing nondeterminacy.</p>

<p>This is only a starting point because there are many other array
operations that should be similarly encoded as diffs.  There is
a bit of work to be done here, and we need to make sure to be
measuring performance effects.</p>

<p>The current implementation has the interesting property that
makes copying arrays unnecessary most of the time. However, it has
the unfortunate side effect of making copying arrays more expensive
(we can no longer use the low-level System.arraycopy() mechanism
in Java). It would be interesting to do a systematic performance
evaluation of this.  I believe that if we combine this method
with a PN director and a manycore machine, that we might get
good utilization of parallelism on the machine. </p>
<blockquote>
 </ul>

<li><i>Database actors</i>
 <ul>
 </ul>

<li>Codegen
 <ul>
 </ul> 
</ul>

<li><i>New Parameter:</i> 
<ul>
</ul>

<li><i>New Continuous actors</i>:
<ul>
</ul>

<li><i>New Discrete Event (DE) actors</i>:
  <ul>
 </ul>
</ul>

<h2><a name="features">Additional Features</a></h2>

<h3>PDFAttribute</h3>
PDFAttribute to the Utilities->Decorative library in Vergil
that allows you to include PDF in a Vergil diagram.

<p>PDFAttribute can be used to include Latex-formatted
equations in Vergil diagrams, and get full print resolution when
printing to PDF for use in papers, books, etc.

<p>PDFAttribute uses uses pdf-renderer, obtainable from
 <a href="https://pdf-renderer.dev.java.net/#in_browser">https://pdf-renderer.dev.java.net/</a>. This is a LGPL'd open source product from Sun.

<p>To use PDFAttribute and create equations, we use LatexIt (see
<a href="http://www.apple.com/downloads/macosx/math_science/latexit.html#in_browser">http://www.apple.com/downloads/macosx/math_science/latexit.html</a>)
for the Mac version)
From LatexIt, we can create a PDF file with an equation.

<p>Then drag into my Vergil diagram a PDFAttribute, or select
Edit Custom Icon and drag in a PDFIcon. Double click on that to
select the PDF file. 

<h3>Other new classes</h3>
<ul>
<li>ptolemy.actor
  <ul>
 </ul>
<li>ptolemy.actor.gui
  <ul>
 </ul>

<li>ptolemy.data
  <ul>
 </ul>

<li>ptolemy.domains.fsm  
  <ul>
 </ul>

<li>ptolemy.domains.modal  
  <ul>
 </ul>

<li>ptolemy.gui  
  <ul>
 </ul>

<li>ptolemy.kernel
  <ul>
</ul>

<li>ptolemy.vergil
  <ul>
  </ul>
</ul>

<h2><a name="worksinprogress">Works in Progress</a></h2>
<ul>
</ul>

<h2><a name="bugs">Bug fixes</a></h2>
For the current list of bugs, see <a href="http://chess.eecs.berkeley.edu/ptexternal/bugs.html#in_browser">Ptolemy II Bugs<a>
 <br>and
 <a href="http://bugzilla.ecoinformatics.org/buglist.cgi?product=Kepler&bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED">Kepler Bugs</a>

<li> A few features and classes were removed outright.
<dl>
  <dt><code>$PTII/ptolemy/codegen</code></dt>
  <dd>Use <code>$PTII/ptolemy/cg</code> instead.
</dl>
</body>
</html>

