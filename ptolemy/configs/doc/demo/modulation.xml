<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="modulation" class="ptolemy.actor.TypedCompositeActor">
    <property name="SDF1" class="ptolemy.domains.sdf.kernel.SDFDirector">
        <property name="iterations" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <property name="vectorizationFactor" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="64.0, 28.0">
        </property>
    </property>
    <property name="carrierFrequency" class="ptolemy.data.expr.Parameter" value="2000">
    </property>
    <property name="signalFrequency" class="ptolemy.data.expr.Parameter" value="500">
    </property>
    <property name="noiseStandardDeviation" class="ptolemy.data.expr.Parameter" value="0.2">
    </property>
    <property name="0:annotation1" class="ptolemy.kernel.util.Attribute">
        <property name="_location" class="ptolemy.moml.Location" value="200.0, 40.0">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
           <svg>
           <text x="20" style="font-size:14; font-family:sanserif; fill:blue" y="20">This model shows a simple periodogram spectral estimate of a modulated
sinusoid in noise.  The top-level parameters control the carrier frequency,
the signal frequency, and the noise level. Notice that the two peaks are
centered at the carrier frequency, with their distance from the carrier
given by the signal frequency. The sample rate is assumed to be 8kHz.</text>
           </svg>
           </configure>
        </property>
    </property>
    <entity name="Gaussian6" class="ptolemy.actor.lib.Gaussian">
        <property name="seed" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="mean" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="standardDeviation" class="ptolemy.data.expr.Parameter" value="noiseStandardDeviation">
        </property>
        <doc>Create a sequence of gaussian random variables</doc>
        <property name="_location" class="ptolemy.moml.Location" value="47.0, 271.0">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
    </entity>
    <entity name="Sinewave1" class="ptolemy.actor.lib.Sinewave">
        <property name="samplingFrequency" class="ptolemy.data.expr.Parameter" value="8000.0">
            <doc>The sampling frequency, in the same units as the frequency.</doc>
        </property>
        <property name="frequency" class="ptolemy.data.expr.Parameter" value="carrierFrequency">
            <doc>The frequency of the sinusoid, in the same units as the sampling frequency.</doc>
        </property>
        <property name="phase" class="ptolemy.data.expr.Parameter" value="0.0">
            <doc>The phase, in radians.</doc>
        </property>
        <doc>This composite actor generates a sine wave.</doc>
        <property name="_location" class="ptolemy.moml.Location" value="48.0, 193.0">
        </property>
    </entity>
    <entity name="Sinewave6" class="ptolemy.actor.lib.Sinewave">
        <property name="samplingFrequency" class="ptolemy.data.expr.Parameter" value="8000.0">
            <doc>The sampling frequency, in the same units as the frequency.</doc>
        </property>
        <property name="frequency" class="ptolemy.data.expr.Parameter" value="signalFrequency">
            <doc>The frequency of the sinusoid, in the same units as the sampling frequency.</doc>
        </property>
        <property name="phase" class="ptolemy.data.expr.Parameter" value="0.0">
            <doc>The phase, in radians.</doc>
        </property>
        <doc>This composite actor generates a sine wave.</doc>
        <property name="_location" class="ptolemy.moml.Location" value="49.0, 126.0">
        </property>
    </entity>
    <entity name="Expression1" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.data.expr.Parameter" value="signal*carrier + noise">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="197.0, 192.0">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="signal" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="carrier" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="noise" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
    </entity>
    <entity name="FFT1" class="ptolemy.domains.sdf.lib.FFT">
        <property name="order" class="ptolemy.data.expr.Parameter" value="8">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="277.0, 193.0">
        </property>
        <port name="input" class="ptolemy.domains.sdf.kernel.SDFIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="256">
            </property>
            <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
        </port>
        <port name="output" class="ptolemy.domains.sdf.kernel.SDFIOPort">
            <property name="output"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="256">
            </property>
        </port>
    </entity>
    <entity name="AbsoluteValue2" class="ptolemy.actor.lib.AbsoluteValue">
        <property name="_location" class="ptolemy.moml.Location" value="367.0, 193.0">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="DB1" class="ptolemy.actor.lib.DB">
        <property name="inputIsPower" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="min" class="ptolemy.data.expr.Parameter" value="-100.0">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="465.0, 193.0">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="SequencePlotter1" class="ptolemy.actor.lib.gui.SequencePlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="xInit" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="xUnit" class="ptolemy.data.expr.Parameter" value="8000.0/256.0">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="569.0, 192.0">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
        <configure><?plotml
<!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Spectrum</title>
<xLabel>frequency</xLabel>
<yLabel>dB</yLabel>
<xRange min="0.0" max="4000.0"/>
<yRange min="0.0" max="36.0"/>
<noGrid/>
</plot>?>
        </configure>
    </entity>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="Gaussian6.output" relation="relation2"/>
    <link port="Sinewave1.output" relation="relation3"/>
    <link port="Sinewave6.output" relation="relation4"/>
    <link port="Expression1.output" relation="relation5"/>
    <link port="Expression1.signal" relation="relation4"/>
    <link port="Expression1.carrier" relation="relation3"/>
    <link port="Expression1.noise" relation="relation2"/>
    <link port="FFT1.input" relation="relation5"/>
    <link port="FFT1.output" relation="relation6"/>
    <link port="AbsoluteValue2.input" relation="relation6"/>
    <link port="AbsoluteValue2.output" relation="relation8"/>
    <link port="DB1.input" relation="relation8"/>
    <link port="DB1.output" relation="relation7"/>
    <link port="SequencePlotter1.input" relation="relation7"/>
</entity>
