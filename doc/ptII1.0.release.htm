<!-- $Id$ -->
<html>
<head>
<title>Ptolemy II 1.0 Release Notes</title>
</head>
<body bgcolor="#faf0e6">
<h1>Ptolemy II 1.0 Release Notes</h1>
Ptolemy II 1.0 is a release of the Ptolemy II Java classes
and the Ptolemy II design document

 <p>Ptolemy II 1.0 includes Vergil, a graphical user interface for
developing models.

 <p>The design document describes the Ptolemy II design and the implementation
of the Java classes.

<p> The Ptolemy design document is shipped with Ptolemy II 1.0, it can be found
in <a href="design/toc.htm" target="toc">$PTII/doc/design</a>.

The most recent copy of the Ptolemy II design document can be
found online at
<a href="http://ptolemy.eecs.berkeley.edu/ptolemyII/doc/design.html"><CODE>http://ptolemy.eecs.berkeley.edu/ptolemyII/doc/design.html</CODE></a>


<h2>Major Features that are new in Ptolemy 1.0 </h2>
<menu>

<li> Vergil - the Ptolemy II GUI
(Steve Neuendorffer and Edward A. Lee)
<li> Giotto Domain
	(Christoph M. Kirsch, Benjamin Horowitz, Thomas A. Henzinger)
<li> Java 3D Domain (GR Domain) (Chamberlain Fong)
<li> Discrete Time Domain (Chamberlain Fong)
<li> CORBA/Jini work (Jie Liu)
<li> Code Generation of SDF models
(Jeff Tsay, Shuvra Bhattacharyya, Edward A. Lee, Christopher Hylands)
</menu>

<h2>Other Features in Ptolemy II</h2>

<ul>
<li> <a href="codeDoc/ptolemy/actor/gui/package-summary.html">User interface utilities for applets and applications</a>

<li> Live editing of models and parameters;
<li> Network integration;
<li> <a href="codeDoc/ptolemy/data/type/package-summary.html">A sophisticated type system including:</a>
     <ul>
     <li> <a href="../ptolemy/domains/sdf/demo/Type/Type.htm">Type constant propagation,</a>
     <li> <a href="codeDoc/ptolemy/data/type/RecordType.html">Record types,</a>
     <li> <a href="codeDoc/ptolemy/data/type/ArrayType.html">Array types,</a> and
     <li> <a href="codeDoc/ptolemy/data/FixToken.html">Fixed-point type</a>
     </ul>
<li> An expression language for parameter expressions;
<li> <a href="codeDoc/ptolemy/actor/lib/package-summary.html">Data and domain polymorphic component library;</a>
<li> <a href="codeDoc/ptolemy/actor/lib/Expression.html">A polymorphic expression actor;</a>
<li> <a href="codeDoc/ptolemy/moml/package-summary.html">A very simple XML file format called MoML;</a>
<li> <a href="../ptolemy/plot/doc/body.htm" target="body">A flexible signal plotter;</a>
<li> Several domains with concurrent models of computation;
<li> Hierarchically interoperable domains;
<li> <a href="docbody.htm" target="body">On-line documentation (in HTML);</a>
<li> <a href="../ptolemy/actor/lib/javasound/demo/KarplusStrong/KarplusStrong.htm" target="main">Audio signal processing capabilities;</a></br>
</ul>

<h2>Complete List of Domains in Ptolemy II</h2>
 <!-- We include this list here since we will be posting the release notes
to the newsgroups etc.  See also main.htm
 -->
<ul>
<li> <a href="../ptolemy/domains/csp/doc/body.htm" target="body">CSP</a>:
	 communicating sequential processes,
<li> <a href="../ptolemy/domains/ct/doc/body.htm" target="body">CT</a>:
	continuous-time modeling,
<li> <a href="../ptolemy/domains/de/doc/body.htm" target="body">DE</a>:
	discrete-event modeling,
<li> <a href="../ptolemy/domains/dde/doc/body.htm" target="body">DDE</a>:
	distributed discrete events (experimental),
<li> <a href="../ptolemy/domains/dt/doc/body.htm" target="body">DT</a>:
	discrete time,
<li> <a href="../ptolemy/domains/fsm/doc/body.htm" target="body">FSM</a>:
b	 finite state machines,
<li> <a href="../ptolemy/domains/giotto/doc/body.htm" target="body">Giotto</a>:
	periodic time-driven (experimental),
<li> <a href="../ptolemy/domains/gr/doc/body.htm" target="body">GR</a>:
	3-D graphics (experimental),
<li> <a href="../ptolemy/domains/pn/doc/body.htm" target="body">PN</a>:
	process networks, and
<li> <a href="../ptolemy/domains/sdf/doc/body.htm" target="body">SDF</a>:
	synchronous dataflow.
</ul>

<h2>Platforms</h2>

The core of Ptolemy II 1.0 is 100% Java, so it should work on any
platform that has JDK1.3

 <p>We developed Ptolemy II 1.0 under Solaris 2.5.1 and Windows 2000 sr1
and with JDK1.2.2 and JDK1.3.0.
We recommend JDK1.3 over JDK1.2.2.  If you have problems with under
JDK1.2.2, please upgrade to JDK1.3

<p> Ptolemy II 1.0 will not compile under JDK1.1.x.

 <p>See the <a href="install.htm#Jacl">Jacl</a> section of
the installation page for information about the Ptolemy II test suite

<h2>Limitations</h2>
Version 1.0 has a number of limitations.
<h3>Release Limitations</h3>
<menu>
<li> The gzipped tar file that contains the Ptolemy II distribution
 <B>requires</B> GNU tar or WinZip.  Solaris 2.5.1 tar will fail to
untar this file with a checksum error because the pathnames are longer
than 100 characters.  If you do not have GNU tar, you can obtain
source and selected binaries from <a
href="ftp://ptolemy.eecs.berkeley.edu/pub/gnu"><CODE>ftp://ptolemy.eecs.berkeley.edu/pub/gnu</CODE></a>.
</menu>


<h3>Limitations in the Actor Libraries</h3>
<menu>
<li>The actor library is far from complete.
<li>The Expression actor does not properly propagate type constraints in
an expression-dependent fashion. It works correctly for double-valued
expressions of double-valued inputs.

<li> The readFile() parameter function does not work with applets.

</menu>

<h3>Limitations in the SDF Domain</h3>
There are currently two bugs in the SDF Domain.  Both are bugs in the scheduler that can be fairly easily avoided.
<menu>
<li> Opaque tunneling entities result in a NullPointerException.  An Opaque tunneling entity is one that does not have any entities.  It only contains relations between external ports.
<br> <b>Workaround:</b> Do not use a director for tunneling entities.

<li> The SDF scheduler reports that actors are disconnected, when they are connected through external ports.
<br> <b>Workaround:</b> Connect the actors in another way.  This is usually possible when the connection is through an output port (since sources have trigger inputs that are usually disconnected in SDF), but somewhat more difficult when the connection is only through an input port.
</menu>

<h3>Limitations in the User Interface</h3>
Version 1.0 of Ptolemy II includes the first graphical user
interface for Ptolemy II.  This UI is preliminary, and is made
up mostly of code that is rated "red", meaning that both the APIs
and the implementations are likely to change.
There are quite a few limitations.
<menu>
<li>No undo mechanism.
<li>Incomplete printing support.
<li>Weak support for multiports in the graph editor.
<li>It is difficult to control wire routing.
<li>Cannot have more than one vertex in a connection.
<li>No mechanism to set the width of a relation.
<li>The integrated web browser is not a full-featured browser.
<li>No snap-to-grid.
<li>Icon editor not yet integrated.
<li>Debugger not yet integrated.
<li>FSM editor is not yet useful.
<li>It is difficult to add actors to the libraries.
<li>No dynamic class loading.
</menu>

<h3>Missing Domains</h3>
<menu>
<li>Synchronous/reactive.
<li>Boolean and integer dataflow.
<li>Dynamic dataflow
</menu>

<h3><a name="CodeGenerationBugs">Code Generation Bugs</a></h3>
<dl>

<dt> Under JDK1.2.2 you may see <CODE>java.lang.OutOfMemoryError</CODE>
<dd> The workaround is to upgrade to JDK1.3

<dt> The name CG_Main is hardwired in.
sdf.codegen.SDFCodeGenerator uses "CG_Main".
sdf.codegen.SDFActorTransformerVisitor._portFieldDeclNode()
also uses "CG_Main" in a few places, so I have to figure out a way
to pass the model name via a visitor so that _portFieldDeclNode() can
get the name.
<dd>


<dt> zip and jar files are not handled properly
<dd> Running codegen fails in the nightly build because the code coverage
tools are in a zip file and codegen does not look inside the zip
file.  The fix is to modify SearchPath and
ASTReflect.lookupClass so that they will handle zip and jar files in
the classpath

<dt> Duplicate directories with the same name cause problems
<dd> If there are two directories
named 'cg', then the codegenerator has a hard time
resolving classes in the cg package.

To replicate the bug, do:
<pre>
	cd $PTII/ptolemy/lang/java
	rm -rf ~/ptII/cg cg
	make CGROOT=. ramp
	make ramp

</pre>

The workaround is to only have one cg directory
and remove the other.

</dl>

<p><font size="2" color="#cc0000">Last Updated: $Date$</font>
</body>
</html>
