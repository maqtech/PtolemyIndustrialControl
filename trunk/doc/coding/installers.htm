<!-- $Id$ -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<link href="../default.css" rel="stylesheet" type="text/css">
<title>Installers</title>
</head>
<body>
<h1>Installers</h1>

<h2>Features Ptolemy II needs</h2>
<ul>
<li> Ability to install a custom, bundled JRE
<li> Multiple programs in the Start Menu.
</ul>

<h2>List of installers</h2>
<ul>
<li> <a href="http://java-source.net/open-source/installer-generators" target="_top">java-source.net - List of Open Source Installers written in Java</a>
<li> <a href="http://javatoolbox.com/categories/deployment-installation" target="_top">javatoolbox - Java deployment and installation tools</a>
<li> <a href="http://www.excelsior-usa.com/articles/java-to-exe.html" target="_top">Excelsior-usa: Java to exe</a>
</ul>

<h2>Free Installers</h2>
<dl>
<dt><a href="http://www.izforge.com/izpack/" target="_top">izPack</a>
<dd> <a href="http://www.velocityreviews.com/forums/t302544-free-java-installer-with-capability-to-bundle-jvm.html" target="_top">velocityreviews.com</a> says:
<blockquote>
The IzPack native launcher will first check for a JRE on the target
system. If one is found, then it will launch the installer. If no JRE
can be found, then it will help the user in installing one either from
the internet or from a bundled one. To sum-up, the IzPack native
launcher will allow your users to install your software even if they
don't have a JRE at first sight.
<blockquote>
The IzPack native launcher is a .exe file that looks for a file called
<code>launcher.ini</code> in the current directory.  The
<code>launcher.ini</code> specifies:
<ul>
<li> which jar file contains the IzPack installer.  
<li> The setup .exe or script to run to install the JRE.
<br> Unfortunately, this does not meet our needs, since we want to use
a custom JRE that includes packages like Java3D etc.  For us to use
this, we would need to create a JRE setup script.
</ul>
<a href="http://openfacts.berlios.de/index-en.phtml?title=IzPack/Launcher">Notes about IzPack Launcher and possible alternatives</a>

<dt><a href="http://launch4j.sourceforge.net/" target="_top">launch4j</a>
<dd>Can include a JRE, but really only for one application?
We need to add multiple apps to the Start Menu.

</dl>

<h2>Commercial installers</h2>
<ul>
<li> <a href="http://www.advancedinstaller.com/java.html" target="_top">Advanced Installer</a>
<li> <a href="http://www.denova.com" target="_top">Denova JExpress</a>
<li> <a href="http://www.dobysoft.com/products/nativej/features.html" target="_top">Dobysoft NativeJ</a> $49.95/$89.95
<li> <a href="http://www.ej-technologies.com/products/install4j/features.html" target="_top">Install4J</a>  edu pricing: $199/$349

</ul>

<h2>Ptolemy installers</h2>
To install Ptolemy under Windows, we require an optional custom JRE.
<p>The way we do this is based on
<a href="http://openfacts.berlios.de/index-en.phtml?title=IzPack/Launcher">Notes about IzPack Launcher and possible alternatives</a>.
<ol>
<li>We create an 
<a href="http://www.izforge.com/izpack/" target="_top">izPack</a>
installer that installs Ptolemy II
<li>We use 
<a href="http://launch4j.sourceforge.net/" target="_top">launch4j</a>
to invoke the izPack installer.  The launch4j installer includes
an optional JRE.
</ol>

<ol>
<li>Create a jre that has JAI, Java 3D, Joystick  JMF, JavaComm, X10 etc.
in it.
See <a href="../install.htm#notshippedPackages">Optional packages not shipped with Ptolemy used at runtime</a>
<li>Copy this jre to <code>$PTII/adm/gen-<i>X.Y</i>/jre</code>
</ol>

<h2>IzPack notes</h2>
<h3>Things I wish were different</h2> 
<ul>
<li>IzPack should be easier to use with a custom JRE.
The IzPack native launcher will allow me to invoke the JRE installer,
but I want to use a JRE that is in the current directory.
<a href="http://openfacts.berlios.de/index-en.phtml?title=IzPack/Launcher">Notes about IzPack Launcher and possible alternatives</a> describes
using <a href="http://launch4j.sourceforge.net/" target="_top">Launch4j</a>.
<br>I ended up using Launch4j to create a .exe that invokes
the jar file created by IzPack.  I also used Launch4j to create
my .exe files that are added to the Start menu.

<li>There should be an easy way to ask the user if they want to
invoke a binary after the installation is complete.

<li>I'd like to add a message to the TargetPanel that describes why
the default location in C:/Program Files won't work.

<li>In HTMLInfoPanel, the packing seems to change depending on
my html file.  Sometimes the pane that displays the HTML does not
fill the width of the screen.

<li>I'd like there to be a JREPathPanel that is like the JDKPathPanel.
In one of the installers, I provide a custom JRE that includes JAI,
Java 3D, Joystick JMF, JavaComm, and X10.  I'd like to give the user
the opportunity to use the custom JRE, or to choose their own JRE or
JDK.

<li>It would be nice if there was a way for the installer to unjar
files on command.  I provide source in a jar file, if the user
chooses to install the sources, then that file should be uninstalled.
The reason I use a jar file is because it makes it easier (faster) to
build installers - my sources are a few thousand files, it is
faster to copy one file around at installer build time than
it is to copy lots of files.

<li> The <a href="http://www.izforge.com/izpack/developers">IzPack Developer's page</a> should state clearly how to build.  Yah, I know, if you don't
know svn, you probably can't devel, but I find quick instructions useful.
The instructions should point to an online copy of the most recent 
Eclipse instructions.

<h3>Building IzPack</h2> 
<a href="http://www.izforge.com/izpack/developers">IzPack Developer's page</a>
<ol>
<li> Download from the trunk
<pre>
svn co http://svn.berlios.de/svnroot/repos/izpack/izpack-src/trunk
</pre>
</ol>

<p><font size="2" color="#cc0000">Last Updated: $Date$</font>
</body>
</html>
