# Template makefile from $PTII/ptolemy/codegen/c/makefile.in
# $Id$
# The CodeGenerator class subsitutes strings like "@modelName@" with
# the value of parameters and writes the results in the directory
# where the source code is created.
# To compile, run make -f @modelName@.mk

PTCGLIBRARIES = @PTCGLibraries@
PTCGINCLUDES = @PTCGIncludes@
PTJNI_NO_CYGWIN = @PTJNI_NO_CYGWIN@

# We need -lm so we can get floor() for ftoi() 
@modelName@.dll: @modelName@.c
	gcc $(PTJNI_NO_CYGWIN) $(PTCGINCLUDES) -Wl,--add-stdcall-alias -shared -o @modelName@.dll @modelName@.c -lm $(PTCGLIBRARIES)
