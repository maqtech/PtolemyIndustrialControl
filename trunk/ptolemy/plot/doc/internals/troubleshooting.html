<!-- $Id$-->
<html>
<head>
<title>Troubleshooting Ptplot</title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="ptplot troubleshooting ">Troubleshooting Ptplot</a></h1>
<p>
Other sources of information:
<MENU>
<LI> <A HREF="ptplotfaq.html">Ptplot Frequently Asked Questions (FAQ)</A>
</MENU>


Below is a list of common problems that people have with Ptplot

<H2><A NAME="Problems Starting Ptplot">Problems Starting Ptplot</A></H2>

<H3><A NAME="CLASSPATH">CLASSPATH</A></H3>
CLASSPATH is by far and above the trickiest thing to get right.
 <P>One known problem is that if you have a
CLASSPATH environment set when you started your browser, you may get
an error message when accessing some of the demos.
We suggest unsetting this environment variable, restarting your
browser (and sending email to Sun's Java team to complain about the
way the CLASSPATH environment variable works).
You may also want to check the 
<A HREF="http://sunsite.unc.edu/javafaq/javafaq.html">Java FAQ</A>.
<H3><CODE>pxgraph</CODE> script fails with: Unable to initialize threads: cannot find class</H3>
Below is an example 
<PRE>
ptplot> ./pxgraph
Unable to initialize threads: cannot find class
java/lang/Thread
</PRE>
The problem here is that the java interpreter is not finding
<CODE>lib/classes.zip</CODE> in the Java Development Kit distribution.
 <P>One fix is to edit the <CODE>pxgraph</CODE> script
and change <CODE>JAVADEFAULT</CODE> variable to point to the location
of your JDK.
HOME <P>Another fix is to set the <CODE>JAVAHOME</CODE> variable
to point to your JDK and rerun pxgraph:
<PRE>
cxh@carson 41% setenv JAVAHOME /opt/jdk1.1.4
cxh@carson 42% pxgraph -help
Usage: pxgraph [ options ] [=WxH+X+Y] [file ...]
 options that take values as second args:
</PRE>
 <P>One way to debug this sort of thing is to run the pxgraph script with
something like: 
<PRE>
sh -x pxgraph -help
</PRE>
<H3>I can't access the Plot class from a java interpreter</H3>
If you try to run the Pxgraph class by passing the Pxgraph classname as a command line argument to the java interpreter, you might see:
<PRE>
ptplot> java Pxgraph
java.lang.NoClassDefFoundError: ptplot/Plot
        at ptplot.Pxgraph.<init>(Pxgraph.java)
        at ptplot.Pxgraph.main(Pxgraph.java)
</PRE>
The problem here is that the Ptplot java classes are in the Ptplot java
package, so you need to set your CLASSPATH to the directory that
contains the ptplot directory, not the directory that contains the 
<CODE>Pxgraph.class</CODE> file
So if Pxgraph.class was in the <CODE>/usr/local/java/ptplot</CODE>
directory, you
would set your classpath to <CODE>/usr/local/java</CODE>
 <P>The following two examples show two ways to set your classpath.
<PRE>
cxh@carson 32% setenv CLASSPATH ..:/opt/jdk1.1.4/lib/classes.zip
cxh@carson 33% java ptplot.Pxgraph -help
Usage: pxgraph [ options ] [=WxH+X+Y] [file ...]
 options that take values as second args:
 -bd <color> (Unsupported)
</PRE>

<PRE>
cxh@carson 34% unsetenv CLASSPATH
cxh@carson 35% java -classpath ..:/opt/jdk1.1.4/lib/classes.zip ptplot.Pxgraph -help
Usage: pxgraph [ options ] [=WxH+X+Y] [file ...]
 options that take values as second args:
 -bd <color> (Unsupported)
</PRE>
Note that you can also set the classpath to include the ptplot.zip
file, rather than including the directory that the <CODE>ptplot</CODE>
directory resides in:
<PRE>
cxh@carson 36% unsetenv CLASSPATH
cxh@carson 57% java -classpath ptplot.zip:/opt/jdk1.1.4/lib/classes.zip ptplot.Pxgraph -help
Usage: pxgraph [ options ] [=WxH+X+Y] [file ...]
 options that take values as second args:
 -bd <color> (Unsupported)

</PRE>

<p>
<a href="index.html">Ptplot Infrastructure</a><br>
<p>
<HR>
Copyright &#169 1997, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>cxh@eecs.berkeley.edu</author>
</body>
</html>
