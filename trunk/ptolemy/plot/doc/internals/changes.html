<!-- $Id$-->
<html>
<head>
<title>Ptplot Changes</title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="ptplot changes">Ptplot Changes</a></h1>
<H2>The changes between ptplot1.3 and ptplot1.3p1</H2>
<menu>
<li> Various minor cleanups to the comments.
<li> Added <CODE>fillPlot()</CODE> method back in so that client
programs can call it.  Reported by Stephan Puchegger &lt;a9127383@unet.univie.ac.at&gt;
<li> If <CODE>JAVAHOME</CODE> is not set, and <CODE>pxgraph</CODE> cannot
find a JDK, then it looks in <CODE>/usr/eesww/lang/jdk1.1latest</CODE>.
This is for use in the EECS Department here at UC Berkeley.
<menu>

<H2>The changes between ptplot1.2p1 and ptplot1.3</H2>
<menu>
<li> <CODE>pxgraph =500x500-0-0</CODE> was throwing
a numeric exception.
<li> Added <CODE>ReuseDataSets: on</CODE> file directive, which
causes datasets with the same name to be merged into one dataset
when plotted.  This is useful for combining multiple files
that plot the same datasets.
<li> Fixed compatibility problem with X11 version of pxgraph.
The old version of pxgraph allowed blank lines to denote the
start of a new dataset.  The problem is that we want to ignore
blank lines in the new format, but still provide compatibility
with the old behaviour.  The fix was to assume that the file
is an old format file until we see a new style directive.
<li> Fixed a bug that was plotting extraneous points before all
the data was read in from a file.
<li> The Pxgraph class and the <code>pxgraph</code>script now take
two new command line arguments:
<dl>
<dt> <CODE>-bigendian</CODE>
<dd> Data files are in big-endian, or network binary format.
If you are on a little-endian machine, such as a machine
with an Intel x86 chip, and you would like to read a binary
format file, created on a big-endian machine, such as a Sun SPARC,
use the <code>-bigendian</code> flag.

<dt><a name="-littleendian"><code>-littleendian</code></a>
<dt>Data files are in little-endian, or x86 binary format.
If you are on a big-endian machine, such as a Sun Sparc,
and you would like to read a binary
format file created on a little-endian machine, such as Intel x86
machine, then use the <code>-littleendian</code> flag.
<dd> 

</dl>
<CODE>-binary</CODE> now reads pxgraph style binary data in the format
native to the machine where the Java Ptplot process is running.
The other binary format read by the <CODE>-binary</CODE> option,
known as the raw binary format is always reads data as big-endian.
The <a href="../../demo/Endian.html">Endian Examples</a> page
illustrates use of the three options.

<li> The Pxgraph class and the <code>pxgraph</code>script now take
two new command line arguments:
<DL>
<dt><code>-o</code> <code><i>output filename</i></code> 
<dd>The name of the file to place the print output in.  Currently
defaults to <code>/tmp/t.ps</code>.
<dt><code>-print</code>
<dd>Bring up the print dialog immediately upon startup.  Unfortunately,
there is no way to automatically print in JDK1.1, the user must hit
the <code>Ok</code> button.
</DL>
The new command line arguments are used to make it easier to create
PostScript output.

<li> <A href="../../ptplot2mif.tcl"><code>ptplot2mif.tcl</code></A> script
can be used to convert the PostScript output of Ptplot to Framemaker
MIF format.  This script requires Tcl, and probably won't work under
Windows.  This script does not do a perfect job converting, but it is
a start.

<li> URLS with <code>&amp;</code> characters in them were being parsed
incorrectly.
 <br> This bug was reported by Marion Schroeder &lt;schroeder@hmi.de&gt;.

<li> A new jar file called <code>ptplotapplet.jar</code> is now
created.  This jar file is similar to <code>ptplot.jar</code>,
except it does not include the classes used by the Pxgraph class.
As a result, <code>ptplotapplet.jar</code> is smaller than
<code>ptplot.jar</code>.  The Pxgraph and Message classes are not
used in applets, so there is no need to download them for
applet only usage.

<li> The <CODE>_graphics</CODE> field in PlotBox is now
<CODE>transient</CODE> so that PlotBox can be serialized.
 <br> This bug was reported by 
Patrick Barrett &lt;barrettp@clipper.mdcorp.ksc.nasa.gov&gt;.
</menu>

<H2>The changes between ptplot1.2 and ptplot1.2p1</H2>
Ptplot1.2p1 is a bug fix release. 
<menu>
<li> Ptplot1.1 was able able to parse scientific notation numbers such
as <code>1.0E-12</code>, but Ptplot1.2 could not.  
The change that caused the bug was that in Ptplot1.2, we used
<code>java.io.StreamTokenizer</code> to parse the
numbers.  Unfortunately, StreamTokenizer is buggy, it fails to parse
scientific notation.  For more information, see
<A href="http://developer.javasoft.com/developer/bugParade/bugs/4079180.html"><code>http://developer.javasoft.com/developer/bugParade/bugs/4079180.html</code></A>.
The fix was to adapt the Ptplot1.1 number parsing code to handle error bars.
 <br>
This bug was reported by Marion Schroeder &lt;schroeder@hmi.de&gt;.
</menu>

<H2>The changes between ptplot1.1 and ptplot1.2</H2>
<menu>
<li> Added support for JAR files.

<li> Added <A href="troubleshooting.html">Troubleshooting Ptplot</A>
and <A href="ptplotfaq.html">Ptplot FAQ</A>.


<li> Added a demo that illustrates a
<A href="../../demo/Ptplot.html">JavaScript Interface to Ptplot</A>.

<li> If <code>setXRange()</code> or <code>setYRange()</code> are not
explicitly called by the user, then the data is padded slightly so that
the data is not plotted on the axes.  The
<A href="../../demo/Marks.html">Black and white plot using unique marks</A>
demo is padded.  Many of the other demos are not padded because the X
and Y ranges are explicitly set either in the data file or in the Java
code that created the plot.


<li> Raw binary files that consist only of 4 byte floats are now supported.
Formerly, ptplot only supported Joe Buck's binary format, which used
single characters as plot directives (see the
<A href="../codeDoc/ptplot.Pxgraph.html#-binary flag">javadoc Pxgraph documentation</A> 
for details about this format).  The new raw binary format
now reads the first byte, and if it is not a <code>d</code>, then
the raw 4 byte float format is assumed.
 <P>This format was prompted by a request from 
John O'Sullivan&lt;John.OSullivan@analog.com&gt;.
The <code>demo/data/bin.plt</code> was converted to the new raw 4 byte float
format.

<li> Error bars are now generated.  If the data file contains a line that
consists of four numbers, then the first two numbers are assumed to be the
x and y values, and the last two numbers are assumed to be the lower and upper
y values for the error bar.  The numbers can be separated by white space
or a comma.  See the <A href="../../demo/ErrorBars.html">Error Bars</A> demo
for more information.
 <br>The error bar code is based on a code fragment from
Michael Altmann &lt;michael@email.labmed.umn.edu&gt;.

<li> Ptplot now supports logarithmic axes, which are
controlled by the file directives: <code>XLog: on</code> and
<code>YLog: on</code>.  The <code>pxgraph</code> script
now takes <code>-lnx</code> and <code>-lny</code> arguments as well.
See the <A href="../../demo/LogAxes.html">Log Axes</A> demo for more information. 

<li> Fixed problem with recycling colors and marks.
The bug was reported by Lutz Harnisch, &lt;Lutz.Harnisch@hmrag.com&gt;

</menu>

<H2>The changes between ptplot1.0 and ptplot1.1</H2>
<menu>
<li> In 1.1, PlotBox extends Panel.  In 1.0 PlotBox extended Applet.
This makes it much easier to use Plot as an component in either an
application or an applet that contains other components.
<li> The PlotApplet class is new in 1.1.  PlotApplet can be used 
for applets that use the Plot class, or the PlotLive class.
As a result, the html applet tags for the demos now use
<code>code="ptplot.PlotApplet"</code>.
Formerly, they used 
<code>code="ptplot.Plot"</code>
<li> The directory structure has been reorganized so that
the plot classes are in ptplot, and the demo classes are in
<A href="../../demo"><code>ptplot/demo</code></A>.
This means that the ptplot.zip does not contain the demo
classes, which is better if anyone actually wants to _use_ the plotter
instead of just running the demos.
<li> There is a <A href="../../demo/audio/PlayingWave.html">Playing Wave
Applet</A> that uses real time audio.
<li> Edward Lee fixed a bar graph label bug reported by Marc Ellis.
<li> A few other minor bugs were fixed.  
</menu>

<p>
<a href="index.html">Ptplot Infrastructure</a><br>
<p>
<HR>
Copyright &#169 1997-, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>cxh@eecs.berkeley.edu</author>
</body>
</html>
