<!--$Id$-->
<html>
<head>
<Title>JavaScript Interface to Ptplot</Title>
<script src="Ptplot.js">

<!-- Begin to hide script contents from old browsers.
// End the hiding here. -->
document.write("Included JS file not found");
</script>
</head>
<body bgcolor="#faf0e6">
<H1><A NAME="JavaScript Interface to Ptplot">JavaScript Interface to Ptplot</A></H1>
<NOSCRIPT>
This page uses JavaScript.  If you are reading this, then
perhaps your browser does not have JavaScript turned on.
</NOSCRIPT>


This is a sample
<A HREF="http://developer.netscape.com/library/documentation/javascript.html">JavaScript</A>
interface to Ptplot that allows the user to adjust various Ptplot parameters.  

 <P>To bring up a sample plot, change the various settings and then click
on the <CODE>Plot</CODE> button.  
 <P>To get a description of the various fields, click on the name
of field to get to the
<A HREF="PtplotHelp.html">Help for the Ptplot</A> page.
See also the <A HREF="#JavaScript Ptplot Limitations">Limitations</A>
section below.
 <HR>
<FORM NAME="plotter" METHOD=post >
<TABLE BORDER=1>
 <TD><A HREF="PtplotHelp.html#Width">Width</A>
<TD>
 <INPUT TYPE="text" NAME="width" SIZE="3" VALUE=450>
 <TD><A HREF="PtplotHelp.html#Height">Height</A>
<TD>
<INPUT TYPE="text" NAME="height" SIZE="3" VALUE=450>
 <TR>
<TD>
<A HREF="PtplotHelp.html#Background Color">Background Color</A>
 <br>(Hex number #000000 - #111111)
<TD>
<INPUT TYPE="text" NAME="background" SIZE="7" VALUE="faf0e6">
<TD>
<A HREF="PtplotHelp.html#Foreground Color">Foreground Color</A>
 <br>(Hex number #000000 - #111111)
<TD>
<INPUT TYPE="text" NAME="foreground" SIZE="7" VALUE="000000">
<TR>
<TD>
<A HREF="PtplotHelp.html#URL Base">URL Base</A>

<TD COLSPAN=3>

<INPUT TYPE="text" NAME="urlbase" SIZE="80" VALUE="http://ptolemy.eecs.berkeley.edu/java/ptplot/demo/">
<TR>
<TD>
<A HREF="PtplotHelp.html#File to plot">File to plot</A>
<TD>
 <SELECT NAME="fileSelection" SIZE=6>
 <OPTION SELECTED>bargraph.plt
 <OPTION>data.plt
 <OPTION>data/bin.plt
 <OPTION>data/integrator1.plt data/integrator2.plt
 <OPTION>data/butterfly.plt
 <OPTION> (NONE)
 </SELECT>
<TR>
<TD>
<A HREF="PtplotHelp.html#Pxgraph Args">Pxgraph Args</A>
<TD COLSPAN=3>
<INPUT TYPE="text" NAME="pxgraphargs" SIZE="80">
<TR>
<TD>
<A HREF="PtplotHelp.html#Title Text">Title Text</A>
<TD COLSPAN=3>
<INPUT TYPE="text" NAME="title" VALUE="Plot">
<TR>
<TD COLSPAN=2>
<A HREF="PtplotHelp.html#Title Font">Title Font</A>
 <SELECT NAME="titleFontFamily" SIZE=5>
 <OPTION> Courier
 <OPTION> Dialog
 <OPTION> DialogInput
 <OPTION SELECTED> Helvetica
 <OPTION> TimesRoman
 <OPTION> ZapfDingbats
 </SELECT>

<SELECT NAME="titleFontStyle" SIZE=3>
 <OPTION> PLAIN
 <OPTION> ITALIC
 <OPTION SELECTED> BOLD
</SELECT>

<SELECT NAME="titleFontSize" SIZE=3>
 <OPTION> 10
 <OPTION> 12
 <OPTION SELECTED> 14
 <OPTION> 16
</SELECT>
<TD COLSPAN=2>
<A HREF="PtplotHelp.html#Label Font">Label Font</A>
 <SELECT NAME="labelFontFamily" SIZE=5>
 <OPTION> Courier
 <OPTION> Dialog
 <OPTION> DialogInput
 <OPTION SELECTED> Helvetica
 <OPTION> TimesRoman
 <OPTION> ZapfDingbats
 </SELECT>

<SELECT NAME="labelFontStyle" SIZE=3>
 <OPTION SELECTED> PLAIN
 <OPTION> ITALIC
 <OPTION> BOLD
</SELECT>

<SELECT NAME="labelFontSize" SIZE=3>
 <OPTION> 10
 <OPTION SELECTED> 12
 <OPTION> 14
 <OPTION> 16
</SELECT>

<TR>
<TD>
<A HREF="PtplotHelp.html#X Axis Label">X Axis Label</A>
<TD>
<INPUT TYPE="text" NAME="xaxis" VALUE="X">
<TD>
<A HREF="PtplotHelp.html#Y Axis Label">Y Axis Label</A>
<TD>
<INPUT TYPE="text" NAME="yaxis" VALUE="Y">

<TR>
<TD>
<INPUT TYPE="checkbox" NAME="bar">
<A HREF="PtplotHelp.html#Bars">Bars</A>
<TD>
<INPUT TYPE="checkbox" NAME="binary">
<A HREF="PtplotHelp.html#Binary">Binary</A>
<TD>
<INPUT TYPE="checkbox" NAME="nolines">
<A HREF="PtplotHelp.html#No Lines">No Lines</A>
<TD>
<INPUT TYPE="checkbox" NAME="ticks">
<A HREF="PtplotHelp.html#Ticks">Ticks</A>
<TR>
<TD>
<INPUT TYPE="checkbox" NAME="smallpoints">
<A HREF="PtplotHelp.html#Small Points">Small Points</A>
<TD>
<INPUT TYPE="checkbox" NAME="largepoints">
<A HREF="PtplotHelp.html#Large Points">Large Points</A>
<TD>
<INPUT TYPE="checkbox" NAME="reversevideo">
<A HREF="PtplotHelp.html#ReverseVideo">ReverseVideo</A>
<TD>
<INPUT TYPE="checkbox" NAME="displayargs">
<A HREF="PtplotHelp.html#Display args">Display args</A>
 </TABLE>
 <br>
<INPUT TYPE="button" VALUE="Plot using the above settings"
	ONCLICK="ptplot(this.form)">

 </FORM>
 <HR>
<H2>How it works</H2>

<OL>

<LI> The HTML file includes

<A HREF="javascript:window.location='view-source:'+window.location.href.replace(/Ptplot.html/, 'Ptplot.js')"><CODE>Ptplot.js</CODE></A>

which contains JavaScript code.
<LI> When the <CODE>Plot</CODE> button is clicked, 
the JavaScript <CODE>ptplot()</CODE> function is passed the form.

<LI> The <CODE>ptplot()</CODE> function generates HTML that reflects the
settings in the form.  The generated HTML includes the <CODE>&lt;APPLET</CODE>
tag.

<LI> Since the PlotApplet class does not inherit from
the Plot class, we have to update the <CODE>pxgraphargs</CODE>
applet parameter with the data from the form.  If we had more direct access 
to the public methods of the Plot class, then we could have a
Plot on this page and modify the format on the fly.

 <br>Note that the <CODE>About</CODE> button in the generated HTML
implemented by having JavaScript call the <CODE>getAppletInfo()</CODE>
public method.  

</OL>


<H2><A NAME="JavaScript Ptplot Limitations">Limitations</A></H2>
<MENU>
<LI> Since this is an applet, you can only plot data from the
server.  It might be possible to use the <CODE>INPUT TYPE="FILE"</CODE>
HTML FORM element to submit files to be plotted.

<LI> Some of the datasets are binary datasets, so you must
check the <CODE>binary</CODE> checkbox.  In the 
<CODE>File to plot</CODE> select box below, all the files in the
<CODE>data/</CODE> directory are binary files.

<LI> The <CODE>File to plot</CODE> select box uses spaces as file separators. 
This allows us to plot graphs that consist of more than one dataset.

<LI> The <CODE>Title Font</CODE> and <CODE>Label Font</CODE> selectors
should allow more than one style.  <CODE>Helvetica-BOLD-ITALIC-12</CODE>
should be allowed.

<LI> The layout of the controls is rather ugly.

</MENU>

<H2>Resources</H2>
<MENU>
<LI> <A HREF="http://developer.netscape.com/library/documentation/javascript.html">Netscape JavaScript Documentation</A>

<LI> <A HREF="http://developer.netscape.com/library/documentation/htmlguid/index.htm">Netscape HTML Documentation</A>

</MENU>

<p>
<HR>
<A HREF="index.html">Up</A> to the Example index -
<A HREF="audio/PlayingWave.html">Back</A> to a plot of real time audio data -
<A HREF="ErrorBars.html">Forward</A> to a plot using error bars
<HR>
Copyright &#169 1997-, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$
comments to: <A HREF="mailto:ptplot@ptolemy.eecs.berkeley.edu"><author>ptplot@eecs.berkeley.edu</author></A>
</body>
</html>
