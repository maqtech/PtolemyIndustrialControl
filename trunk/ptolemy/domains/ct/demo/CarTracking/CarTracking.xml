<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="CarTracking" class="ptolemy.actor.TypedCompositeActor">
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 663]">
    </property>
    <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[-4, -4]">
    </property>
    <property name="CT" class="ptolemy.domains.ct.kernel.CTMixedSignalDirector">
        <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="100.0">
        </property>
        <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
        </property>
        <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
        </property>
        <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
        </property>
        <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
        </property>
        <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
        </property>
        <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
        </property>
        <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
            <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                </property>
                <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                </property>
                <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                </property>
            </property>
        </property>
        <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
            <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                </property>
                <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                </property>
                <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                </property>
            </property>
        </property>
        <property name="runAheadLength" class="ptolemy.data.expr.Parameter" value="0.1">
        </property>
        <property name="CTScheduler" class="ptolemy.domains.ct.kernel.CTScheduler">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="80.0, 29.5">
        </property>
    </property>
    <property name="fault" class="ptolemy.data.expr.Parameter" value="1">
    </property>
    <property name="annotation" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This model shows a following car tracking a leading car in an unreliable 
communication environment. In normal operation, the leading car informs
the following car about its position, speed, acceleration, and a time 
stamp for this information. The following car does a sanity check to make
sure that the data are coherent. If so, the following car will apply the
same acceleration, and thus (in this simple model) tracks the leading 
car perfectly. A user can control the correctness of the leading car 
information by setting the parameter "fault" to 0 or 1, (0 indicating 
the correct information). If the following car receives uncorrect 
information, it abandons the received acceleration, and relies on 
distance measurements for the tacking. In this mode, the following car 
will apply zero acceleration, if it is too close to the leading car, and 
maximum acceleration if it is too far from the leading car. This (simple-
minded) control law results in a rather jerky ride.</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.ptolemy.kernel.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.moml.Location" value="291.5, 376.0">
        </property>
    </property>
    <entity name="leading car" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.moml.Location" value="68.5, 138.5">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 663]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[-4, -4]">
        </property>
        <port name="package" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.moml.Location" value="760.0, 324.0">
            </property>
        </port>
        <port name="position" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.moml.Location" value="648.5, 224.0">
            </property>
        </port>
        <entity name="Integrator" class="ptolemy.domains.ct.lib.Integrator">
            <property name="initialState" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="400.0, 163.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
        </entity>
        <entity name="Integrator2" class="ptolemy.domains.ct.lib.Integrator">
            <property name="initialState" class="ptolemy.data.expr.Parameter" value="10.0">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="500.0, 163.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
        </entity>
        <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="271.5, 374.5">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="PeriodicSampler" class="ptolemy.domains.ct.lib.CTPeriodicSampler">
            <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="0.1">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="598.5, 313.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="multiport"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                </property>
            </port>
        </entity>
        <entity name="Scale" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="0.5">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="260.0, 219.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Subtract" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.moml.Location" value="330.5, 164.5">
            </property>
            <port name="plus" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="minus" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Add" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.moml.Location" value="165.0, 314.5">
            </property>
            <port name="plus" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="minus" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <doc>Create a constant sequence</doc>
            <property name="_location" class="ptolemy.moml.Location" value="80.0, 254.5">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
            <property name="_location" class="ptolemy.moml.Location" value="731.5, 314.5">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="position" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="speed" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="time" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="TimedSinewave" class="ptolemy.actor.lib.TimedSine">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[624, 450]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[53, 160]">
            </property>
            <property name="frequency" class="ptolemy.data.expr.Parameter" value="PI*0.05">
            </property>
            <property name="magnitude" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="phase" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <doc>This composite actor generates a timed sine wave.</doc>
            <property name="_location" class="ptolemy.moml.Location" value="91.5, 374.5">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="445.54545454545416, 280.48148148148164">
            </vertex>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="546.5454545454529, 230.4074074074078">
            </vertex>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="207.18181818181768, 319.25925925925947">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation22" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="package" relation="relation22"/>
        <link port="position" relation="relation3"/>
        <link port="Integrator.input" relation="relation2"/>
        <link port="Integrator.output" relation="relation"/>
        <link port="Integrator2.input" relation="relation"/>
        <link port="Integrator2.output" relation="relation3"/>
        <link port="CurrentTime.output" relation="relation11"/>
        <link port="PeriodicSampler.input" relation="relation3"/>
        <link port="PeriodicSampler.input" relation="relation"/>
        <link port="PeriodicSampler.input" relation="relation5"/>
        <link port="PeriodicSampler.input" relation="relation11"/>
        <link port="PeriodicSampler.output" relation="relation6"/>
        <link port="PeriodicSampler.output" relation="relation7"/>
        <link port="PeriodicSampler.output" relation="relation8"/>
        <link port="PeriodicSampler.output" relation="relation9"/>
        <link port="Scale.input" relation="relation"/>
        <link port="Scale.output" relation="relation4"/>
        <link port="Subtract.plus" relation="relation5"/>
        <link port="Subtract.minus" relation="relation4"/>
        <link port="Subtract.output" relation="relation2"/>
        <link port="Add.plus" relation="relation15"/>
        <link port="Add.minus" relation="relation10"/>
        <link port="Add.output" relation="relation5"/>
        <link port="Const.output" relation="relation15"/>
        <link port="RecordAssembler.output" relation="relation22"/>
        <link port="RecordAssembler.position" relation="relation6"/>
        <link port="RecordAssembler.speed" relation="relation7"/>
        <link port="RecordAssembler.acceleration" relation="relation8"/>
        <link port="RecordAssembler.time" relation="relation9"/>
        <link port="TimedSinewave.output" relation="relation10"/>
    </entity>
    <entity name="following car" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.moml.Location" value="397.5, 88.5">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[948, 450]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[116, 429]">
        </property>
        <port name="subscribe" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.moml.Location" value="50.5, 110.0">
            </property>
        </port>
        <port name="position" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.moml.Location" value="693.5, 174.0">
            </property>
        </port>
        <port name="tooFar" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.moml.Location" value="38.0, 215.0">
            </property>
            <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
            </property>
        </port>
        <port name="tooClose" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.moml.Location" value="44.0, 175.0">
            </property>
            <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
            </property>
        </port>
        <entity name="fault detector" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.moml.Location" value="129.5, 114.5">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute">
            </property>
            <property name="SDF" class="ptolemy.domains.sdf.kernel.SDFDirector">
                <property name="Scheduler" class="ptolemy.domains.sdf.kernel.SDFScheduler">
                </property>
                <property name="iterations" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <property name="vectorizationFactor" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="80.0, 34.5">
                </property>
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.moml.Location" value="13.0, 99.0">
                </property>
                <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </port>
            <port name="faulty" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.moml.Location" value="788.0, 99.0">
                </property>
                <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
                </property>
            </port>
            <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                <property name="_location" class="ptolemy.moml.Location" value="99.5, 119.5">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="position" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="speed" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="compPosition" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.data.expr.Parameter" value="p2 + (t2-t1)*s2">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="389.0, 160.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="t1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="p2" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="s2" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="t2" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Comparator" class="ptolemy.actor.lib.logic.Comparator">
                <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="==">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        </property>
                        <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                        </property>
                        <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                        </property>
                        <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                        </property>
                        <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                        </property>
                    </property>
                </property>
                <property name="tolerance" class="ptolemy.data.expr.Parameter" value="0.8">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="525.0, 38.5">
                </property>
                <port name="left" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="right" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="compuSpeed" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.data.expr.Parameter" value="s2 + (t2-t1)* (a2 - miu * s2)">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="388.0, 365.5">
                </property>
                <property name="miu" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="t1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="s2" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="a2" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="t2" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="1:Comparator" class="ptolemy.actor.lib.logic.Comparator">
                <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="==">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        </property>
                        <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                        </property>
                        <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                        </property>
                        <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                        </property>
                        <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                        </property>
                    </property>
                </property>
                <property name="tolerance" class="ptolemy.data.expr.Parameter" value="0.8">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="525.0, 123.5">
                </property>
                <port name="left" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="right" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="nand" class="ptolemy.actor.lib.logic.LogicFunction">
                <property name="function" class="ptolemy.kernel.util.StringAttribute" value="nand">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="and" class="ptolemy.kernel.util.StringAttribute" value="and">
                        </property>
                        <property name="or" class="ptolemy.kernel.util.StringAttribute" value="or">
                        </property>
                        <property name="xor" class="ptolemy.kernel.util.StringAttribute" value="xor">
                        </property>
                        <property name="nand" class="ptolemy.kernel.util.StringAttribute" value="nand">
                        </property>
                        <property name="nor" class="ptolemy.kernel.util.StringAttribute" value="nor">
                        </property>
                        <property name="xnor" class="ptolemy.kernel.util.StringAttribute" value="xnor">
                        </property>
                    </property>
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="615.0, 84.5">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="Display" class="ptolemy.actor.lib.gui.Display">
                <property name="rowsDisplayed" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="columnsDisplayed" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="title" class="ptolemy.kernel.util.StringAttribute" value="fault">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="716.5, 183.5">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
                <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{0}">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="184.0, 198.5">
                </property>
                <port name="input" class="ptolemy.domains.sdf.kernel.SDFIOPort">
                    <property name="input"/>
                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                </port>
                <port name="output" class="ptolemy.domains.sdf.kernel.SDFIOPort">
                    <property name="output"/>
                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </port>
            </entity>
            <entity name="1:SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
                <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{0}">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="184.0, 258.5">
                </property>
                <port name="input" class="ptolemy.domains.sdf.kernel.SDFIOPort">
                    <property name="input"/>
                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                </port>
                <port name="output" class="ptolemy.domains.sdf.kernel.SDFIOPort">
                    <property name="output"/>
                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </port>
            </entity>
            <entity name="2:SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
                <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{0}">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="169.5, 323.5">
                </property>
                <port name="input" class="ptolemy.domains.sdf.kernel.SDFIOPort">
                    <property name="input"/>
                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                </port>
                <port name="output" class="ptolemy.domains.sdf.kernel.SDFIOPort">
                    <property name="output"/>
                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </port>
            </entity>
            <entity name="3:SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
                <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{0}">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="149.5, 383.5">
                </property>
                <port name="input" class="ptolemy.domains.sdf.kernel.SDFIOPort">
                    <property name="input"/>
                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                </port>
                <port name="output" class="ptolemy.domains.sdf.kernel.SDFIOPort">
                    <property name="output"/>
                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </port>
            </entity>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="450.0, 165.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="305.0, 390.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="245.0, 265.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="2">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="90.0, 145.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="430.0, 280.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="670.0, 125.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="135.0, 105.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="120.0, 115.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="105.0, 135.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="2">
                </property>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="2">
                </property>
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="30.0, 160.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="0">
                </property>
            </relation>
            <link port="input" relation="relation17"/>
            <link port="faulty" relation="relation16"/>
            <link port="RecordDisassembler.input" relation="relation17"/>
            <link port="RecordDisassembler.position" relation="relation3"/>
            <link port="RecordDisassembler.speed" relation="relation4"/>
            <link port="RecordDisassembler.acceleration" relation="relation6"/>
            <link port="RecordDisassembler.time" relation="relation8"/>
            <link port="compPosition.output" relation="relation14"/>
            <link port="compPosition.t1" relation="relation8"/>
            <link port="compPosition.p2" relation="relation10"/>
            <link port="compPosition.s2" relation="relation5"/>
            <link port="compPosition.t2" relation="relation2"/>
            <link port="Comparator.left" relation="relation3"/>
            <link port="Comparator.right" relation="relation14"/>
            <link port="Comparator.output" relation="relation13"/>
            <link port="compuSpeed.output" relation="relation9"/>
            <link port="compuSpeed.t1" relation="relation8"/>
            <link port="compuSpeed.s2" relation="relation5"/>
            <link port="compuSpeed.a2" relation="relation11"/>
            <link port="compuSpeed.t2" relation="relation2"/>
            <link port="1:Comparator.left" relation="relation4"/>
            <link port="1:Comparator.right" relation="relation9"/>
            <link port="1:Comparator.output" relation="relation15"/>
            <link port="nand.input" relation="relation13"/>
            <link port="nand.input" relation="relation15"/>
            <link port="nand.output" relation="relation16"/>
            <link port="Display.input" relation="relation16"/>
            <link port="SampleDelay.input" relation="relation3"/>
            <link port="SampleDelay.output" relation="relation10"/>
            <link port="1:SampleDelay.input" relation="relation4"/>
            <link port="1:SampleDelay.output" relation="relation5"/>
            <link port="2:SampleDelay.input" relation="relation6"/>
            <link port="2:SampleDelay.output" relation="relation11"/>
            <link port="3:SampleDelay.input" relation="relation8"/>
            <link port="3:SampleDelay.output" relation="relation2"/>
        </entity>
        <entity name="modal controller" class="ptolemy.vergil.ptolemy.fsm.modal.ModalModel">
            <property name="_Director" class="ptolemy.domains.fsm.kernel.HSDirector">
                <property name="controllerName" class="ptolemy.kernel.util.StringAttribute" value="_Controller">
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.ptolemy.fsm.modal.ModalModel$ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="217.0, 181.5">
            </property>
            <port name="faulty" class="ptolemy.vergil.ptolemy.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                </property>
            </port>
            <port name="subscribe" class="ptolemy.vergil.ptolemy.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.vergil.ptolemy.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                </property>
            </port>
            <port name="tooClose" class="ptolemy.vergil.ptolemy.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                </property>
            </port>
            <port name="tooFar" class="ptolemy.vergil.ptolemy.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.vergil.ptolemy.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="regular">
                </property>
                <property name="_nonStrictMarker" class="ptolemy.kernel.util.Attribute">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                </property>
                <property name="annotation" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Create a state machine here (and ports, if needed) and
create refinements for the states. Each refinement needs a director.
For continuous-time models, use the CTEmbeddedDirector.</text></svg></configure>
                    </property>
                    <property name="_location" class="ptolemy.moml.Location" value="250.0, 40.0">
                    </property>
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 450]">
                </property>
                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[232, 230]">
                </property>
                <port name="faulty" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="80.0, 124.0">
                    </property>
                </port>
                <port name="subscribe" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="90.5, 325.0">
                    </property>
                </port>
                <port name="acceleration" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.moml.Location" value="496.0, 206.66666666666666">
                    </property>
                    <property name="type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="tooClose" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="89.0, 195.0">
                    </property>
                </port>
                <port name="tooFar" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="83.0, 260.0">
                    </property>
                </port>
                <entity name="regular" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="regular">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.ptolemy.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.moml.Location" value="165.0, 225.0">
                    </property>
                    <port name="incomingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                    <port name="outgoingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                </entity>
                <entity name="faulty" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="faulty">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.ptolemy.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.moml.Location" value="390.0, 225.0">
                    </property>
                    <port name="incomingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                    <port name="outgoingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                </entity>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="faulty">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="acceleration = 0">
                    </property>
                    <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="triggerExpression" class="ptolemy.kernel.util.StringAttribute">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="!faulty">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute">
                    </property>
                    <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="triggerExpression" class="ptolemy.kernel.util.StringAttribute">
                    </property>
                </relation>
                <link port="regular.incomingPort" relation="relation3"/>
                <link port="regular.outgoingPort" relation="relation2"/>
                <link port="faulty.incomingPort" relation="relation2"/>
                <link port="faulty.outgoingPort" relation="relation3"/>
            </entity>
            <entity name="regular" class="ptolemy.vergil.ptolemy.fsm.modal.Refinement">
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute">
                </property>
                <property name="DE" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.797693135E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.moml.Location" value="170.0, 35.0">
                    </property>
                </property>
                <port name="faulty" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="95.0, 94.0">
                    </property>
                </port>
                <port name="subscribe" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="110.5, 235.0">
                    </property>
                </port>
                <port name="acceleration" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.moml.Location" value="556.0, 245.0">
                    </property>
                </port>
                <port name="tooClose" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="104.0, 160.0">
                    </property>
                </port>
                <port name="tooFar" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="103.0, 305.0">
                    </property>
                </port>
                <entity name="1:RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.moml.Location" value="259.5, 234.5">
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                    </port>
                    <port name="position" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                    </port>
                    <port name="speed" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                    </port>
                    <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                    </port>
                    <port name="time" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                    </port>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="subscribe" relation="relation"/>
                <link port="acceleration" relation="relation2"/>
                <link port="1:RecordDisassembler.input" relation="relation"/>
                <link port="1:RecordDisassembler.acceleration" relation="relation2"/>
            </entity>
            <entity name="faulty" class="ptolemy.vergil.ptolemy.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="init">
                </property>
                <property name="_nonStrictMarker" class="ptolemy.kernel.util.Attribute">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 450]">
                </property>
                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[232, 230]">
                </property>
                <port name="faulty" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="45.0, 299.0">
                    </property>
                </port>
                <port name="subscribe" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="50.5, 50.0">
                    </property>
                </port>
                <port name="acceleration" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.moml.Location" value="521.0, 175.0">
                    </property>
                    <property name="type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="tooClose" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="54.0, 210.0">
                    </property>
                </port>
                <port name="tooFar" class="ptolemy.vergil.ptolemy.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.moml.Location" value="48.0, 120.0">
                    </property>
                </port>
                <entity name="catch" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute">
                    </property>
                    <property name="_location" class="ptolemy.moml.Location" value="425.0, 305.0">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <port name="incomingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                    <port name="outgoingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                </entity>
                <entity name="stop" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute">
                    </property>
                    <property name="_location" class="ptolemy.moml.Location" value="145.0, 305.0">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <port name="incomingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                    <port name="outgoingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                </entity>
                <entity name="init" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute">
                    </property>
                    <property name="_location" class="ptolemy.moml.Location" value="180.0, 115.0">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <port name="incomingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                    <port name="outgoingPort" class="ptolemy.kernel.ComponentPort">
                    </port>
                </entity>
                <relation name="1:relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="tooFar">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="acceleration = 2.0">
                    </property>
                    <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="triggerExpression" class="ptolemy.kernel.util.StringAttribute">
                    </property>
                </relation>
                <relation name="1:relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="true">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="acceleration = 0.0">
                    </property>
                    <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="triggerExpression" class="ptolemy.kernel.util.StringAttribute">
                    </property>
                </relation>
                <relation name="1:relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="tooClose">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="acceleration = 0.0">
                    </property>
                    <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="triggerExpression" class="ptolemy.kernel.util.StringAttribute">
                    </property>
                </relation>
                <link port="catch.incomingPort" relation="1:relation3"/>
                <link port="catch.outgoingPort" relation="1:relation4"/>
                <link port="stop.incomingPort" relation="1:relation"/>
                <link port="stop.incomingPort" relation="1:relation4"/>
                <link port="stop.outgoingPort" relation="1:relation3"/>
                <link port="init.outgoingPort" relation="1:relation"/>
            </entity>
            <relation name="faultyRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="subscribeRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="accelerationRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="tooCloseRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="tooFarRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="faulty" relation="faultyRelation"/>
            <link port="subscribe" relation="subscribeRelation"/>
            <link port="acceleration" relation="accelerationRelation"/>
            <link port="tooClose" relation="tooCloseRelation"/>
            <link port="tooFar" relation="tooFarRelation"/>
            <link port="_Controller.faulty" relation="faultyRelation"/>
            <link port="_Controller.subscribe" relation="subscribeRelation"/>
            <link port="_Controller.acceleration" relation="accelerationRelation"/>
            <link port="_Controller.tooClose" relation="tooCloseRelation"/>
            <link port="_Controller.tooFar" relation="tooFarRelation"/>
            <link port="regular.faulty" relation="faultyRelation"/>
            <link port="regular.subscribe" relation="subscribeRelation"/>
            <link port="regular.acceleration" relation="accelerationRelation"/>
            <link port="regular.tooClose" relation="tooCloseRelation"/>
            <link port="regular.tooFar" relation="tooFarRelation"/>
            <link port="faulty.faulty" relation="faultyRelation"/>
            <link port="faulty.subscribe" relation="subscribeRelation"/>
            <link port="faulty.acceleration" relation="accelerationRelation"/>
            <link port="faulty.tooClose" relation="tooCloseRelation"/>
            <link port="faulty.tooFar" relation="tooFarRelation"/>
        </entity>
        <entity name="Integrator1" class="ptolemy.domains.ct.lib.Integrator">
            <property name="initialState" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="565.0, 173.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
        </entity>
        <entity name="Subtract" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.moml.Location" value="380.5, 174.5">
            </property>
            <port name="plus" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="minus" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Scale" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="0.5">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="565.0, 229.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Integrator" class="ptolemy.domains.ct.lib.Integrator">
            <property name="initialState" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="455.0, 173.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
        </entity>
        <entity name="ZeroOrderHold" class="ptolemy.domains.ct.lib.ZeroOrderHold">
            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="308.0, 89.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
        </entity>
        <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="legend" class="ptolemy.kernel.util.StringAttribute">
            </property>
            <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="473.5, 89.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <configure><?plotml
<!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<xRange min="0.0" max="99.99999999999862"/>
<yRange min="0.0" max="2.0"/>
</plot>?>
            </configure>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="80.0, 160.0">
            </vertex>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="2:relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="509.5, 180.0">
            </vertex>
        </relation>
        <relation name="2:relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="345.0, 265.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="255.0, 185.0">
            </vertex>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="345.0, 95.0">
            </vertex>
        </relation>
        <link port="subscribe" relation="relation2"/>
        <link port="position" relation="relation6"/>
        <link port="tooFar" relation="relation8"/>
        <link port="tooClose" relation="relation7"/>
        <link port="fault detector.input" relation="relation2"/>
        <link port="fault detector.faulty" relation="relation"/>
        <link port="modal controller.faulty" relation="relation"/>
        <link port="modal controller.subscribe" relation="relation2"/>
        <link port="modal controller.acceleration" relation="relation3"/>
        <link port="modal controller.tooClose" relation="relation7"/>
        <link port="modal controller.tooFar" relation="relation8"/>
        <link port="Integrator1.input" relation="2:relation"/>
        <link port="Integrator1.output" relation="relation6"/>
        <link port="Subtract.plus" relation="relation5"/>
        <link port="Subtract.minus" relation="relation4"/>
        <link port="Subtract.output" relation="2:relation2"/>
        <link port="Scale.input" relation="2:relation"/>
        <link port="Scale.output" relation="relation4"/>
        <link port="Integrator.input" relation="2:relation2"/>
        <link port="Integrator.output" relation="2:relation"/>
        <link port="ZeroOrderHold.input" relation="relation3"/>
        <link port="ZeroOrderHold.output" relation="relation5"/>
        <link port="TimedPlotter.input" relation="relation5"/>
    </entity>
    <entity name="communication channel" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.moml.Location" value="255.0, 79.5">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[929, 406]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[66, 96]">
        </property>
        <property name="DE" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.797693135E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="70.0, 25.0">
            </property>
        </property>
        <property name="fault" class="ptolemy.data.expr.Parameter" value="fault">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.moml.Location" value="58.0, 269.0">
            </property>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.moml.Location" value="755.0, 294.0">
            </property>
        </port>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="0.1">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="150.0, 213.5">
            </property>
            <port name="input" class="ptolemy.domains.de.kernel.DEIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.domains.de.kernel.DEIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Select" class="ptolemy.actor.lib.Select">
            <property name="_location" class="ptolemy.moml.Location" value="660.0, 294.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="control" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Switch" class="ptolemy.actor.lib.Switch">
            <property name="_location" class="ptolemy.moml.Location" value="265.0, 284.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="multiport"/>
            </port>
            <port name="control" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="1:Gaussian" class="ptolemy.actor.lib.Gaussian">
            <property name="seed" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="mean" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="standardDeviation" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <doc>Create a sequence of gaussian random variables</doc>
            <property name="_location" class="ptolemy.moml.Location" value="405.0, 109.5">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
            <property name="_location" class="ptolemy.moml.Location" value="619.5, 144.5">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="position" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="speed" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="time" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Ramp" class="ptolemy.actor.lib.Ramp">
            <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="init" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="step" class="ptolemy.data.expr.Parameter" value="0.01">
            </property>
            <doc>Create a sequence of tokens with increasing value</doc>
            <property name="_location" class="ptolemy.moml.Location" value="405.0, 228.5">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <doc>Create a constant sequence</doc>
            <property name="_location" class="ptolemy.moml.Location" value="405.0, 169.5">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="Ramp20" class="ptolemy.actor.lib.Ramp">
            <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="init" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="step" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <doc>Create a sequence of tokens with increasing value</doc>
            <property name="_location" class="ptolemy.moml.Location" value="405.0, 48.5">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="Const22" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="fault">
            </property>
            <doc>Create a constant sequence</doc>
            <property name="_location" class="ptolemy.moml.Location" value="150.0, 324.5">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="205.0, 330.0">
            </vertex>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="315.0, 145.0">
            </vertex>
        </relation>
        <relation name="relation17" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation18" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation19" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation21" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="100.0, 275.0">
            </vertex>
        </relation>
        <link port="input" relation="relation23"/>
        <link port="output" relation="relation9"/>
        <link port="TimedDelay.input" relation="relation23"/>
        <link port="TimedDelay.output" relation="relation8"/>
        <link port="Select.input" relation="relation14"/>
        <link port="Select.input" relation="relation17"/>
        <link port="Select.output" relation="relation9"/>
        <link port="Select.control" relation="relation16"/>
        <link port="Switch.input" relation="relation8"/>
        <link port="Switch.output" relation="relation14"/>
        <link port="Switch.output" relation="relation15"/>
        <link port="Switch.control" relation="relation16"/>
        <link port="1:Gaussian.output" relation="relation11"/>
        <link port="1:Gaussian.trigger" relation="relation15"/>
        <link port="RecordAssembler2.output" relation="relation17"/>
        <link port="RecordAssembler2.position" relation="relation21"/>
        <link port="RecordAssembler2.speed" relation="relation11"/>
        <link port="RecordAssembler2.acceleration" relation="relation19"/>
        <link port="RecordAssembler2.time" relation="relation18"/>
        <link port="Ramp.output" relation="relation18"/>
        <link port="Ramp.trigger" relation="relation15"/>
        <link port="Const.output" relation="relation19"/>
        <link port="Const.trigger" relation="relation15"/>
        <link port="Ramp20.output" relation="relation21"/>
        <link port="Ramp20.trigger" relation="relation15"/>
        <link port="Const22.output" relation="relation16"/>
        <link port="Const22.trigger" relation="relation23"/>
    </entity>
    <entity name="distance monitor" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.moml.Location" value="513.5, 139.5">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 450]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[232, 230]">
        </property>
        <port name="followingCar" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.moml.Location" value="79.5, 114.0">
            </property>
        </port>
        <port name="leadingCar" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.moml.Location" value="75.0, 199.0">
            </property>
        </port>
        <port name="tooFar" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.moml.Location" value="501.0, 125.0">
            </property>
        </port>
        <port name="tooClose" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.moml.Location" value="512.0, 185.0">
            </property>
        </port>
        <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="legend" class="ptolemy.kernel.util.StringAttribute">
            </property>
            <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="148.5, 159.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <configure><?plotml
<!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<xRange min="0.0" max="99.99999999999862"/>
<yRange min="0.0" max="181.67896331079464"/>
</plot>?>
            </configure>
        </entity>
        <entity name="testing" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.moml.Location" value="430.0, 158.5">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 450]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[103, 193]">
            </property>
            <property name="SDF" class="ptolemy.domains.sdf.kernel.SDFDirector">
                <property name="Scheduler" class="ptolemy.domains.sdf.kernel.SDFScheduler">
                </property>
                <property name="iterations" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <property name="vectorizationFactor" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="75.0, 29.5">
                </property>
            </property>
            <port name="leading" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.moml.Location" value="49.0, 169.0">
                </property>
                <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </port>
            <port name="following" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.moml.Location" value="59.0, 249.0">
                </property>
                <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </port>
            <port name="tooFar" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.moml.Location" value="511.0, 155.0">
                </property>
                <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
                </property>
            </port>
            <port name="tooClose" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.moml.Location" value="517.0, 255.0">
                </property>
                <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="tokenInitProduction" class="ptolemy.data.expr.Parameter" value="0">
                </property>
            </port>
            <entity name="1:AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.moml.Location" value="217.0, 209.5">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:leq1" class="ptolemy.actor.lib.logic.Comparator">
                <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        </property>
                        <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                        </property>
                        <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                        </property>
                        <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                        </property>
                        <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                        </property>
                    </property>
                </property>
                <property name="tolerance" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="380.0, 253.5">
                </property>
                <port name="left" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="right" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="1:leq" class="ptolemy.actor.lib.logic.Comparator">
                <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        </property>
                        <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                        </property>
                        <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                        </property>
                        <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                        </property>
                        <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                        </property>
                    </property>
                </property>
                <property name="tolerance" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="_location" class="ptolemy.moml.Location" value="375.0, 153.5">
                </property>
                <port name="left" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="right" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="30" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="30">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_location" class="ptolemy.moml.Location" value="205.0, 134.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="15" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="15">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_location" class="ptolemy.moml.Location" value="210.0, 274.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <relation name="1:relation8" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="1:relation7" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" class="ptolemy.moml.Vertex" value="285.0, 215.0">
                </vertex>
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="1:relation5" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="0">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="0">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="0">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="bufferSize" class="ptolemy.data.expr.Parameter" value="0">
                </property>
            </relation>
            <link port="leading" relation="relation"/>
            <link port="following" relation="relation3"/>
            <link port="tooFar" relation="relation5"/>
            <link port="tooClose" relation="relation6"/>
            <link port="1:AddSubtract.plus" relation="relation"/>
            <link port="1:AddSubtract.minus" relation="relation3"/>
            <link port="1:AddSubtract.output" relation="1:relation7"/>
            <link port="1:leq1.left" relation="1:relation7"/>
            <link port="1:leq1.right" relation="1:relation8"/>
            <link port="1:leq1.output" relation="relation6"/>
            <link port="1:leq.left" relation="1:relation5"/>
            <link port="1:leq.right" relation="1:relation7"/>
            <link port="1:leq.output" relation="relation5"/>
            <link port="30.output" relation="1:relation5"/>
            <link port="15.output" relation="1:relation8"/>
        </entity>
        <entity name="PeriodicSampler" class="ptolemy.domains.ct.lib.CTPeriodicSampler">
            <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="0.2">
            </property>
            <property name="_location" class="ptolemy.moml.Location" value="333.5, 158.5">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="multiport"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                </property>
            </port>
        </entity>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="95.0, 120.0">
            </vertex>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" class="ptolemy.moml.Vertex" value="95.0, 205.0">
            </vertex>
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="followingCar" relation="relation11"/>
        <link port="leadingCar" relation="relation"/>
        <link port="tooFar" relation="relation14"/>
        <link port="tooClose" relation="relation15"/>
        <link port="TimedPlotter.input" relation="relation11"/>
        <link port="TimedPlotter.input" relation="relation"/>
        <link port="testing.leading" relation="relation13"/>
        <link port="testing.following" relation="relation12"/>
        <link port="testing.tooFar" relation="relation14"/>
        <link port="testing.tooClose" relation="relation15"/>
        <link port="PeriodicSampler.input" relation="relation11"/>
        <link port="PeriodicSampler.input" relation="relation"/>
        <link port="PeriodicSampler.output" relation="relation12"/>
        <link port="PeriodicSampler.output" relation="relation13"/>
    </entity>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" class="ptolemy.moml.Vertex" value="280.0, 200.0">
        </vertex>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" class="ptolemy.moml.Vertex" value="310.0, 180.0">
        </vertex>
    </relation>
    <link port="leading car.package" relation="relation"/>
    <link port="leading car.position" relation="relation5"/>
    <link port="following car.subscribe" relation="relation2"/>
    <link port="following car.position" relation="relation4"/>
    <link port="following car.tooFar" relation="relation6"/>
    <link port="following car.tooClose" relation="relation7"/>
    <link port="communication channel.input" relation="relation"/>
    <link port="communication channel.output" relation="relation2"/>
    <link port="distance monitor.followingCar" relation="relation4"/>
    <link port="distance monitor.leadingCar" relation="relation5"/>
    <link port="distance monitor.tooFar" relation="relation6"/>
    <link port="distance monitor.tooClose" relation="relation7"/>
</entity>
