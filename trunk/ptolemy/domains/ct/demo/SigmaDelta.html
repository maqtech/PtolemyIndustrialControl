<!---@version $Id$------>
<!---@author Jie Liu------>
<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <TITLE>CT domain demo- Micro Accelerometer with Digitial Feedback Control</TITLE>
</HEAD>
<BODY BGCOLOR="#FAF0E6" LINK="#0000FF" VLINK="#800080">

<CENTER>
<H1>
Ptolemy II CT Domain demo - <I> Micro Accelerometer with Digitial Feedback Control</I></H1></CENTER>

<HR>
<H1>Introduction:</H1>
Micro accelerometers are MEMS devices that use beams, gaps, and electrostatics 
to measure acceleration. Beams and anchors, separating by gaps, form parallel 
plate capacitors. When the device is accelerated in the sensing director, the 
displacement of the beams causes the change of the gap sizes, which further 
causes the change of the capacity. By measuring the change of capacity (using
 the Winston capacitor bridge), the accelerate can be obtained accurately. 
Feedback can be applied to the beams by charging the capacitors. Using 
feedback can reduce the sensitivity to process variations, 
eliminate mechanical resonances, and increase sensor bandwidth, selectivity 
and dynamic range.
<P>
Sigma-delta modulation[1], also called the pulse density modulation or the 
bang-bang control, is a digital feedback technique, which gets the A/D 
conversion functionality "for free". The figure below shows the conceptual
diagram of system. The central part of the digital feedback is an one
bit quantizer.
<P>
<CENTER><img src="SigmaDelta.gif"></CENTER>
<P>
<H1>Implementation:</H1>
We implemented the system as Mark Alan Lemkin designed in [2]. As shown in
the Figure below, the second order CT subsystem is used to model the beam.
 The voltage on the beam-gap capacitor is sampled every T seconds (much
 faster than the required output of the digital signal),  then filtered by
 a lead compensator (FIR filter), and fed to an one-bit quantizer. 
The outputs of the quantizer are converted to force and fed back to the
 beams. The outputs are also counted and averaged every N*T seconds to 
produce the digital output. In our example, the external acceleration 
is a Sin wave. The TclBlend code is<A HREF="SigmaDelta.tcl"> here</A>
<P >
<CENTER><img src="SigmaDelta2.gif"></CENTER>
<P>
<H1>Simulation</H1>
To run the simulation (in the ptolemy cluster), click <B>Go</B>
<P>
<P><APPLET name="SigmaDeltaApplet"
   bgcolor=#FAF0E6
   archive="ptolemy/domains/ct/demo/ctdemo.jar"
   code=ptolemy.domains.ct.demo.SigmaDeltaApplet.class
   codebase=../../../..
   width=600 height=400>
<param name="background" value="#faf0e6">
<BR><I>If you were able to run applets, you would have a waveform demo
here.</I>
<BR></APPLET></CENTER>

=======
Or, for a tclBlend demo, invoke:
<pre>
cd  $PTII/ptolemy/domains/ct/demo
setenv CLASSPATH $PTII
jtclsh
source SigmaDelta.tcl
</pre>

<H1>Result</H1>
The result should be like:<BR>
<B>CTPlot:</B>
<p>
<CENTER><img src="SDCTPlot.gif"></CENTER>
<P>
<B>DEPlot:</B>
<p>
<CENTER><img src="SDDEPlot.gif"></CENTER>
<P>
<H1>References</H1>
[1] James C. Candy, <I>"A Use of Limit Cycle Oscillations to Obtain Robust Analog-to-Digital Converters"</I>, IEEE Trans. on Communications, Vol. COM-22, No. 3, March 1974, pp298-305<BR>
[2] Mark A. Lemkin, <I>"Micro Accelerometer Design with Digital Feedback Control"</I>, doctoral dissertation,  University of California, Berkeley, Fall 1997
<HR>
<CENTER>UNIVERSITY OF CALIFORNIA</CENTER>

<CENTER>Department of Electrical Engineering and Computer Sciences</CENTER>

</BODY>
</HTML>
