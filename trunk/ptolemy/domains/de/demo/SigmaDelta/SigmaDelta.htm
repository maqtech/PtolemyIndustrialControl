<!-- $Id$ -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
<title>Codesign</title>

</head>
<body>
<h1>Codesign</h1>
The following applet uses Ptolemy II DE domain and CT domain architectures to
simulate a digital feedback system with interruptible processor model.


 <!-- All of the controls of the applet should be visible when the
applet is displayed on a XGA screen-->
<center>
<!-- The HTML below is for the Java Plugin.  The first 
     section is for IE, the second is for Netscape
 -->
<OBJECT classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93"
 width=600 height=420
 name="SigmaDeltaApplet"
 codebase="http://java.sun.com/products/plugin/1.2/jinstall-12-win32.cab#Version=1,2,0,0">
<PARAM NAME=CODE VALUE=ptolemy.domains.de.demo.SigmaDelta.SigmaDeltaApplet.class>
<PARAM NAME=CODEBASE VALUE=../../../../..>
<PARAM NAME=ARCHIVE VALUE="
	ptolemy/ptsupport.jar,
	ptolemy/domains/ct/ct.jar,
	ptolemy/domains/de/de.jar"
<PARAM NAME=NAME VALUE="SigmaDeltaApplet">
<PARAM NAME="type" VALUE="application/x-java-applet;version=1.2">
<PARAM NAME="background" VALUE="#faf0e6">
<COMMENT>
<EMBED type="application/x-java-applet;version=1.2"
 code=ptolemy.domains.de.demo.SigmaDelta.SigmaDeltaApplet
 codebase=../../../../..
 archive="
	ptolemy/ptsupport.jar,
	ptolemy/domains/ct/ct.jar,
	ptolemy/domains/de/de.jar"

 java_CODE=ptolemy.domains.de.demo.SigmaDelta.SigmaDeltaApplet.class
 java_CODEBASE=../../../../..
 java_ARCHIVE="
	ptolemy/ptsupport.jar,
	ptolemy/domains/ct/ct.jar,
	ptolemy/domains/de/de.jar"
 name="SigmaDeltaApplet"
 width=600 height=420
 background="#faf0e6"
 pluginspage="http://java.sun.com/products/plugin/1.2/plugin-install.html">
<NOEMBED></COMMENT>
<I>If you were able to run applets, you would have a demo here.</I>
</NOEMBED></EMBED>
</OBJECT>
</center>

This demo is an extension from 
<A HREF="../../ct/demo/sigmadelta/SigmaDelta.htm">a CT domain demo</A> 
 by Jie Liu. The extension
emphasizes on the effect of the random delay caused by the interruptible
processor model.
<p>
The processor behaves as follows. Without interrupts, each demand
takes a fixed minimum service time to serve. With interrupts, the service
time is increased by the number of interrupt events during the service period
multiplied by a fixed interrupt service time.
<p>
In the CTPlot, the red curve ("Position") is the beam position; the blue
one ("Input") is the acceleration input; the green one ("Control") is
the feedback control input from the digital controller. In the DEPlot,
the red dots are the (digital) output of the accumulator; the blue dots
are the output of the one bit quantizer.
<p>
In this particular sigma delta converter case, the processor delay
may not make sense (unless the user is modeling the transmission line
delay from the sampler to the filter). But in general, if we consider the 
continuous part of the system as a plant, and the discrete event part 
as the digital controller implemented by embedded software, then the
processor delay will impact the control result.
<p>
Different parameters for the processor model can be chosen. MST (Minimum
Service Time) indicate the amount of time needed to process an event, if there
is no interrupt. IST (Interrupt Service Time) is the amount of time needed
to process an interrupt. Note that the interrupts preempts the inputs. Lambda
represents the inter-arrival time of the Poisson process modeling the
interrupt arrival. Lastly, stop time is just the time when simulation stops.

<P>This applet is implemented by
<TT><A HREF="SigmaDeltaApplet.java">SigmaDeltaApplet.java</A></TT>.
<P>The simulation consists of a <A HREF="../../lib/DEClock.java">Clock</A>
Actor, a
<A HREF="../../lib/DERamp.java">Ramp</A> Actor,
<A HREF="../../lib/DEProcessor.java">DEProcessor</A> Actor,
<A HREF="../../lib/DEInterruptibleServer.java">DEInterruptibleServer</A> Actor,
<A HREF="../../lib/DESampler.java">DESampler</A> Actor,
and a <A HREF="../../lib/DEPoisson.java">DEPoisson</A>
Actor connected to a <A HREF="../../lib/DEPlot.java">Plot</A> Actor.
<BR>
<CENTER>
<IMG SRC="../img/SigmaDelta.gif">
</CENTER>

</BODY>
</HTML>
