\documentclass[11pt]{article}
\usepackage{times}
\usepackage{ifthen}
\usepackage[dvips]{graphics}
\usepackage[dvips]{color}
\usepackage{epsfig}
%\usepackage{subfigure}
\usepackage[dvips, colorlinks, bookmarks, pdfpagemode=UseOutlines,
linkcolor=blue, pagecolor=blue, urlcolor=blue, letterpaper]{hyperref}
\begin{document}
\input{definitions}

\title{SoftWalls in 2D}

\author{J. Adam Cataldo, Edward A. Lee, Xiaojun Liu, Ashwin Ganesan,\\
and Stephen Neuendorffer\\ 
\{acataldo, eal, liuxj, ganesan, neuendor\}@eecs.berkeley.edu\\
Electrical Engineering \& Computer Science\\ 
University of California, Berkeley\\ 
\\}

\date{25 June 2002}
\maketitle

%-----------------------------------------------------------------------------
%-----------------------------------------------------------------------------

\section{Introduction}

This document gives an outline of a general 2D softwalls approach.  We
assume the initial speed is known.

%-----------------------------------------------------------------------------
%-----------------------------------------------------------------------------


\section{Step Bias}

%-----------------------------------------------------------------------------

Suppose the aircraft is travelling at a constant speed $s$.  Let
$\theta$ denote the aircraft's heading angle, and let
$\dot{\theta_{p}}$ be the pilot's control input, i.e. the desired rate
of change in heading angle.  At that speed, the aircraft has a
minimum-safe turning radius $r_{min}$.  This contrains the paths at
which the aircraft can bank right or left as in figure \ref{paths}.

\begin{figure}[btp]
\centering
\includegraphics[width=5in]{aircraftpaths.eps}
\figcaption{The dot represents the aircraft, which is moving along the
center path.  The arc paths represtent turns at the minimum turning radius.
\label{paths}}
\end{figure}

Now suppose we wish to prevent the aircraft from crossing a boundary,
or entering a no-fly zone.  As the aircraft approaches the boundary,
one of minimum-turning-radius paths from figure \ref{paths} will
interesect with the boundary.  As long as the other path has not yet
interestected the boundary, the aircraft can still avoid crossing the
boundary by moving along this path.  At the instant the second path
intersects the boundary, forcing the aircraft along the second path
will prevent the aircraft from crossing the boundary.  This situation
is depicted in figure \ref{crossing}.

\begin{figure}[btp]
\centering
\includegraphics[width=5in]{boundarycross.eps}
\figcaption{On the left picture, the aircraft still has one free path.  On the
right picture, the aircraft must move right at the minimum turning
radius to avoid crossing the boundary.
\label{crossing}}
\end{figure}

We can now pose this control algorithm in a more general control
framework.  Let the actual rate of change in aircraft heading angle be
$\dot{\theta}$, and let $\theta_{s}$, be the control signal generated
by the SoftWalls algorithm.  Given the pilot's control signal,
$\dot{\theta_{p}}$, we calculate $\dot{\theta}$ from
\[
\dot{\theta} = limit_{[-s/r_{min}, s/r_{min}]}(\dot{\theta_{p}} -
\dot{\theta_{s}}),
\]
where
\[
\set{limit}_{[a,b]}(u) = \left \{
\begin{array}{ll}
b&\mbox{ if } u > b,\\
a&\mbox{ if } u < a,\\
u&\mbox{ otherwise. }
\end{array}
\right .
\]

Assuming $\dot{\theta_{p}}$ is limited to $[-\dot{\theta_{M}},
\dot{\theta_{M}}]$, which corresponds to the limits of the flight
yoke, we can choose $\dot{\theta_{s}} = \dot{\theta_{M}} + s/r_{min}$
to force the aircraft to turn right at the maximum turning radius,
irrespective of pilot input.  Similarly $\dot{\theta_{s}} =
-\dot{\theta_{M}} - s/r_{min}$ will force the aircraft to turn left.
If the left path is the second path to interesect the boundary, the
control signal $\dot{\theta_{s}} = \dot{\theta_{M}} + s/r_{min}$ will
steer the aircraft right, and if the right path is the second to
interestect the boundrary, the control signal $\dot{\theta_{s}} =
-\dot{\theta_{M}} - s/r_{min}$ will steer the aircraft left.  By
applying the appropriate $\theta_{s}$ to the input, the softwalls
algorithm (the path/boundary-interestection algorithm) can garauntee
the plane to never crosses the boundary.

\end{document}

