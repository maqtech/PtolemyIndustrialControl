<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="RobotControlWithCompositeOptimizer" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="10.0.devel">
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="100.0">
        </property>
        <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="enforceMicrostepSemantics" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-1060.0, -740.0}">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={41, 22, 1399, 878}, maximized=true}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1165, 768]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8571428571428591">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{-741.4744186046511, -211.464871002907}">
    </property>
    <property name="target_pos" class="ptolemy.data.expr.Parameter" value="{x = -10.0, y = 0.0}">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-505.0, -760.0}">
        </property>
    </property>
    <property name="Nparticles" class="ptolemy.data.expr.Parameter" value="50">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-980.0, -760.0}">
        </property>
    </property>
    <property name="enableBackwardTypeInference" class="ptolemy.data.expr.Parameter" value="false">
    </property>
    <property name="measurementNoise" class="ptolemy.data.expr.Parameter" value="2">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-860.0, -760.0}">
        </property>
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Centralized Computation">
        </property>
        <property name="_location" class="ptolemy.kernel.util.RelativeLocation" value="{-710.0, -770.0}">
        </property>
    </property>
    <property name="_layoutConfiguration" class="ptolemy.vergil.basic.layout.LayoutConfiguration">
        <property name="spacing" class="ptolemy.actor.parameters.DoubleRangeParameter" value="7.76">
            <display name="Object spacing"/>
        </property>
        <property name="logAspectRatio" class="ptolemy.actor.parameters.DoubleRangeParameter" value="-0.64">
            <display name="Aspect ratio"/>
        </property>
        <property name="interactionMode" class="ptolemy.data.expr.ChoiceParameter" value="Full">
            <display name="Interaction mode"/>
        </property>
    </property>
    <property name="initialRobotPositions" class="ptolemy.data.expr.Parameter" value="{{x=10.0,y=1.0},{x=10.0,y=-1.0}}">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-1105.0, -700.0}">
        </property>
    </property>
    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Cooperative Stationary Target Localization using Mutual-Information Based Control Optimization&#10;&#10;The CompositeOptimizer  takes particles ( that provide an estimate for  the robot location probability density) &#10;and robot locations as inputs at time t and computes the optimal control inputs to robots, which &#10;will maximize the mutual information between the robot measurements and the target location&#10;distribution at time t+1.">
        </property>
        <property name="_location" class="ptolemy.kernel.util.RelativeLocation" value="{-1115.0, -635.0}">
        </property>
    </property>
    <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Set maximum robot speed here">
        </property>
        <property name="_location" class="ptolemy.kernel.util.RelativeLocation" value="{-290.0, -770.0}">
        </property>
    </property>
    <class name="Robot" extends="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-665.0, -675.0}">
        </property>
        <property name="initialPosition" class="ptolemy.data.expr.Parameter" value="{x=-10.0, y=-10.0}">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1005.0, 90.0}">
            </property>
        </property>
        <property name="currentPosition" class="ptolemy.data.expr.Parameter" value="{x = -10.0, y = -10.0}">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1250.0, 90.0}">
            </property>
        </property>
        <property name="sigma" class="ptolemy.data.expr.Parameter" value="measurementNoise">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{810.0, 90.0}">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={410, 83, 934, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.32768000000000014">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{1007.0000000000006, 510.7480468750001}">
        </property>
        <port name="controlInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{680.0, 320.0}">
            </property>
        </port>
        <port name="measurement" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1660.0, 240.0}">
            </property>
        </port>
        <port name="position" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1140.0, 170.0}">
            </property>
        </port>
        <entity name="Measurement_t" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="sqrt( (target_pos.x-pos.x)^2&#10;+(target_pos.y-pos.y)^2) &#10;+ noise">
                <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                    <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                    </property>
                </property>
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1495.0, 310.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="noise" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="pos" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Gaussian" class="ptolemy.actor.lib.Gaussian">
            <property name="seed" class="ptolemy.actor.parameters.SharedParameter" value="0L">
            </property>
            <property name="standardDeviation" class="ptolemy.actor.parameters.PortParameter" value="sigma">
            </property>
            <doc>Create a sequence of gaussian random variables</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[1225.0, 240.0]">
            </property>
        </entity>
        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="currentPosition">
            </property>
            <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[1055.0, 175.0]">
            </property>
        </entity>
        <entity name="Measurement_t2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="control + currentPosition">
                <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                    <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                    </property>
                </property>
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{855.0, 320.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="control" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="SingleEvent" class="ptolemy.actor.lib.SingleEvent">
            <property name="value" class="ptolemy.data.expr.Parameter" value="initialPosition">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{825, 390}">
            </property>
        </entity>
        <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="currentPosition">
            </property>
            <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{967.659683866279, 389.45498728197674}">
            </property>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;controlInput._location&quot;,x=680.0,y=320.0}, tail={id=&quot;Measurement_t2.control&quot;,x=855.0,y=320.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{990.0, 320.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;.Merge.output&quot;,x=1015.0,y=415.0}, tail={id=&quot;relation9.vertex1&quot;,x=1060.0,y=415.0}, points={} },{ head={id=&quot;relation9.vertex1&quot;,x=990.0,y=320.0}, tail={id=&quot;Measurement_t2.output&quot;,x=855.0,y=320.0}, points={} },{ head={id=&quot;relation9.vertex1&quot;,x=990.0,y=245.0}, tail={id=&quot;.Display.input&quot;,x=1030.0,y=180.0}, points={990.0,180.0} },{ head={id=&quot;SetVariable.input&quot;,x=1055.0,y=170.0}, tail={id=&quot;relation9.vertex1&quot;,x=990.0,y=320.0}, points={990.0,170.0} },{ head={id=&quot;relation9.vertex1&quot;,x=990.0,y=320.0}, tail={id=&quot;Measurement_t.pos&quot;,x=1495.0,y=310.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{1640.0, 310.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation2.vertex1&quot;,x=1640.0,y=310.0}, tail={id=&quot;Display.input&quot;,x=1680.0,y=310.0}, points={} },{ head={id=&quot;measurement._location&quot;,x=1660.0,y=240.0}, tail={id=&quot;relation2.vertex1&quot;,x=1640.0,y=310.0}, points={1640.0,240.0} },{ head={id=&quot;Measurement_t.output&quot;,x=1495.0,y=310.0}, tail={id=&quot;relation2.vertex1&quot;,x=1640.0,y=310.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="controlInput" relation="relation4"/>
        <link port="measurement" relation="relation2"/>
        <link port="position" relation="relation8"/>
        <link port="Measurement_t.output" relation="relation2"/>
        <link port="Measurement_t.noise" relation="relation"/>
        <link port="Measurement_t.pos" relation="relation9"/>
        <link port="Gaussian.output" relation="relation"/>
        <link port="Gaussian.trigger" relation="relation9"/>
        <link port="SetVariable.input" relation="relation9"/>
        <link port="SetVariable.output" relation="relation8"/>
        <link port="Measurement_t2.output" relation="relation9"/>
        <link port="Measurement_t2.control" relation="relation4"/>
        <link port="SingleEvent.output" relation="relation3"/>
        <link port="SetVariable2.input" relation="relation3"/>
    </class>
    <entity name="SequenceToArray" class="ptolemy.domains.sdf.lib.SequenceToArray">
        <property name="arrayLength" class="ptolemy.actor.parameters.PortParameter" value="Nparticles">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-670.0, -425.0}">
        </property>
    </entity>
    <entity name="Robot1" class="Robot">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-1010.0, -110.0}">
        </property>
        <property name="initialPosition" class="ptolemy.data.expr.Parameter" value="initialRobotPositions(0)">
        </property>
        <property name="currentPosition" class="ptolemy.data.expr.Parameter" value="{x = 9.8000086771862, y = 2.2031719191929}">
        </property>
    </entity>
    <entity name="Robot2" class="Robot">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-1010.0, -15.0}">
        </property>
        <property name="initialPosition" class="ptolemy.data.expr.Parameter" value="initialRobotPositions(1)">
        </property>
        <property name="currentPosition" class="ptolemy.data.expr.Parameter" value="{x = 10.275281075301, y = -2.199005660327}">
        </property>
    </entity>
    <entity name="Plotter" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-630.0, -190.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.40960000000000013">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{412.9989643895346, -99.36133720930229}">
        </property>
        <port name="particles" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-260.0, -215.0}">
            </property>
        </port>
        <port name="robot2_loc" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-420.0, -335.0}">
            </property>
        </port>
        <port name="robot1_loc" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-205.0, -440.0}">
            </property>
        </port>
        <port name="state" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-240.0, -270.0}">
            </property>
        </port>
        <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{255.0, -515.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="x" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="y" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="RecordDisassembler2" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{255.0, -460.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="x" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="y" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="target_pos">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-270.0, -335.0}">
            </property>
        </entity>
        <entity name="MSE" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="sqrt((target.x-estimate.x)^2+(target.y-estimate.y)^2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{35.0, -280.0}">
            </property>
            <port name="target" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="estimate" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="RMSE" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={41, 328, 500, 344}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[500, 300]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, -280.0}">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Mean-Square Localization Error</title>
<xLabel>t</xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="2.0"/>
<yRange min="8.347728896145032" max="11.670797913348238"/>
</plot>?>
            </configure>
        </entity>
        <entity name="XYPlotter" class="ptolemy.actor.lib.gui.XYPlotter">
            <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value=" x, y, target">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={794, 176, 531, 541}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[531, 497]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{370.0, -435.0}">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Trajectories</title>
<xLabel>x</xLabel>
<yLabel>y</yLabel>
<xRange min="-13.536889210008926" max="11.670799697949438"/>
<yRange min="-18.1707064014151" max="17.953395625064044"/>
<default marks="various"/>
</plot>?>
            </configure>
        </entity>
        <entity name="RecordDisassembler3" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{85.0, -355.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="x" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="y" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{35.0, -440.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordDisassembler2.input&quot;,x=255.0,y=-460.0}, tail={id=&quot;relation17.vertex1&quot;,x=35.0,y=-440.0}, points={} },{ head={id=&quot;robot1_loc._location&quot;,x=-205.0,y=-440.0}, tail={id=&quot;relation17.vertex1&quot;,x=35.0,y=-440.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{-355.0, -335.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Const.trigger&quot;,x=-270.0,y=-335.0}, tail={id=&quot;relation2.vertex1&quot;,x=-355.0,y=-335.0}, points={} },{ head={id=&quot;RecordDisassembler.input&quot;,x=255.0,y=-515.0}, tail={id=&quot;relation2.vertex1&quot;,x=-355.0,y=-335.0}, points={-355.0,-495.0} },{ head={id=&quot;robot2_loc._location&quot;,x=-420.0,y=-335.0}, tail={id=&quot;relation2.vertex1&quot;,x=-355.0,y=-335.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{-145.0, -335.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;MSE.target&quot;,x=35.0,y=-280.0}, tail={id=&quot;relation7.vertex1&quot;,x=-145.0,y=-335.0}, points={-145.0,-290.0} },{ head={id=&quot;RecordDisassembler3.input&quot;,x=85.0,y=-355.0}, tail={id=&quot;relation7.vertex1&quot;,x=-145.0,y=-335.0}, points={} },{ head={id=&quot;Const.output&quot;,x=-270.0,y=-335.0}, tail={id=&quot;relation7.vertex1&quot;,x=-145.0,y=-335.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{-185.0, -270.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;MSE.estimate&quot;,x=35.0,y=-280.0}, tail={id=&quot;relation3.vertex1&quot;,x=-185.0,y=-270.0}, points={} },{ head={id=&quot;.RecordDisassembler5.input&quot;,x=175.0,y=-240.0}, tail={id=&quot;relation3.vertex1&quot;,x=-60.0,y=-220.0}, points={} },{ head={id=&quot;state._location&quot;,x=-240.0,y=-270.0}, tail={id=&quot;relation3.vertex1&quot;,x=-185.0,y=-270.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;MSE.output&quot;,x=35.0,y=-280.0}, tail={id=&quot;RMSE.input&quot;,x=260.0,y=-280.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{320.0, -325.0}">
            </vertex>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{305.0, -380.0}">
            </vertex>
        </relation>
        <link port="robot2_loc" relation="relation2"/>
        <link port="robot1_loc" relation="relation17"/>
        <link port="state" relation="relation3"/>
        <link port="RecordDisassembler.input" relation="relation2"/>
        <link port="RecordDisassembler.x" relation="relation10"/>
        <link port="RecordDisassembler.y" relation="relation12"/>
        <link port="RecordDisassembler2.input" relation="relation17"/>
        <link port="RecordDisassembler2.x" relation="relation11"/>
        <link port="RecordDisassembler2.y" relation="relation13"/>
        <link port="Const.output" relation="relation7"/>
        <link port="Const.trigger" relation="relation2"/>
        <link port="MSE.output" relation="relation4"/>
        <link port="MSE.target" relation="relation7"/>
        <link port="MSE.estimate" relation="relation3"/>
        <link port="RMSE.input" relation="relation4"/>
        <link port="XYPlotter.inputX" relation="relation10"/>
        <link port="XYPlotter.inputX" relation="relation11"/>
        <link port="XYPlotter.inputX" relation="relation"/>
        <link port="XYPlotter.inputY" relation="relation12"/>
        <link port="XYPlotter.inputY" relation="relation13"/>
        <link port="XYPlotter.inputY" relation="relation24"/>
        <link port="RecordDisassembler3.input" relation="relation7"/>
        <link port="RecordDisassembler3.x" relation="relation"/>
        <link port="RecordDisassembler3.y" relation="relation24"/>
    </entity>
    <entity name="InitialControlInput" class="ptolemy.actor.lib.SingleEvent">
        <property name="value" class="ptolemy.data.expr.Parameter" value="{x=0,y=0}">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-825.0, -355.0}">
        </property>
    </entity>
    <entity name="ElementsToArray" class="ptolemy.actor.lib.ElementsToArray">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-860.0, -490.0}">
        </property>
    </entity>
    <entity name="Merge" class="ptolemy.domains.continuous.lib.ContinuousMerge">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-105.0, -285.0}">
        </property>
    </entity>
    <entity name="Merge2" class="ptolemy.domains.continuous.lib.ContinuousMerge">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-105.0, -350.0}">
        </property>
    </entity>
    <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-370.0, -435.0}">
        </property>
    </entity>
    <entity name="ArrayToElements" class="ptolemy.actor.lib.ArrayToElements">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-300.0, -435.0}">
        </property>
    </entity>
    <entity name="Joint PF" class="org.ptolemy.machineLearning.particleFilter.ParticleFilter">
        <property name="stateVariableNames" class="ptolemy.data.expr.Parameter" value="{&quot;x&quot;,&quot;y&quot;}">
        </property>
        <property name="bootstrap" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="lowVarianceSampler" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="particleCount" class="ptolemy.data.expr.Parameter" value="2000">
        </property>
        <property name="outputParticleCount" class="ptolemy.data.expr.Parameter" value="Nparticles">
        </property>
        <property name="prior" class="ptolemy.data.expr.Parameter" value="{random()*40-20,random()*40-20}">
        </property>
        <property name="t" class="ptolemy.data.expr.Parameter" value="3.0">
        </property>
        <property name="measurementCovariance" class="ptolemy.data.expr.Parameter" value="[measurementNoise]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-845.0, -45.0}">
        </property>
        <property name="x" class="ptolemy.data.expr.Parameter" value="3.7461374906510914">
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="y" class="ptolemy.data.expr.Parameter" value="-17.28562920208906">
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="z2" class="ptolemy.data.expr.Parameter" value="sqrt( (r2.x-x)^2+(r2.y- y)^2)">
        </property>
        <property name="z1" class="ptolemy.data.expr.Parameter" value="sqrt( (r1.x-x)^2+(r1.y- y)^2)">
        </property>
        <property name="x_update" class="ptolemy.data.expr.Parameter" value="x">
        </property>
        <property name="y_update" class="ptolemy.data.expr.Parameter" value="y">
        </property>
        <property name="z1_m" class="ptolemy.data.expr.Parameter" value="23.7211493858754">
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="z2_m" class="ptolemy.data.expr.Parameter" value="20.5568553488789">
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="r1" class="ptolemy.actor.parameters.PortParameter" value="{x = 9.8000086771862, y = 2.2031719191929}">
        </property>
        <property name="r2" class="ptolemy.actor.parameters.PortParameter" value="{x = 10.275281075301, y = -2.199005660327}">
        </property>
        <port name="particleOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="stateEstimate" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="r1" class="ptolemy.actor.parameters.ParameterPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="r2" class="ptolemy.actor.parameters.ParameterPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="z1_m" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="z2_m" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="x_update" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="x">
                <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </property>
            <property name="x" class="ptolemy.data.expr.Parameter" value="1.419549848528548">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
        </entity>
        <entity name="y_update" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="y">
                <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </property>
            <property name="y" class="ptolemy.data.expr.Parameter" value="-18.16827277287831">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
        </entity>
        <entity name="z1_m_equation" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="sqrt( (r1.x-x)^2+(r1.y- y)^2)">
                <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
        </entity>
        <entity name="z1_m_covariance" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="[measurementNoise]">
                <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
        </entity>
        <entity name="setz1_m" class="ptolemy.actor.lib.SetVariable">
            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="z1_m">
            </property>
            <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
        </entity>
        <entity name="z2_m_equation" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="sqrt( (r2.x-x)^2+(r2.y- y)^2)">
                <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
        </entity>
        <entity name="z2_m_covariance" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="[measurementNoise]">
                <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
        </entity>
        <entity name="setz2_m" class="ptolemy.actor.lib.SetVariable">
            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="z2_m">
            </property>
            <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
            </port>
        </entity>
    </entity>
    <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-175.0, -305.0}">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
        <port name="x" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
    </entity>
    <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-175.0, -460.0}">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
        <port name="x" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
    </entity>
    <entity name="CompositeOptimizer2" class="org.ptolemy.optimization.CompositeOptimizer">
        <property name="mode" class="ptolemy.data.expr.StringParameter" value="MAX">
        </property>
        <property name="dimensionOfOptimizationSpace" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="numberOfConstraints" class="ptolemy.data.expr.Parameter" value="2">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-515.0, -435.0}">
        </property>
        <doc>Optimize the objective function provided in the inside composite, subject to constraints and precision/iteration limits</doc>
        <property name="_configurer" class="ptolemy.actor.gui.EditorPaneFactory">
        </property>
        <property name="_configurer2" class="ptolemy.actor.gui.InsideEntityEditorPaneFactory">
        </property>
        <property name="_tableauFactory" class="ptolemy.actor.gui.LevelSkippingTableauFactory">
        </property>
        <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="locations" class="ptolemy.actor.lib.hoc.MirrorPort">
            <property name="input"/>
        </port>
        <port name="particles" class="ptolemy.actor.lib.hoc.MirrorPort">
            <property name="input"/>
        </port>
        <entity name="OptimizerComposite" class="org.ptolemy.optimization.CompositeOptimizer$OptimizerComposite">
            <property name="SDFDirector" class="ptolemy.domains.sdf.kernel.SDFDirector">
                <property name="iterations" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                </property>
            </property>
            <property name="speedLimit" class="ptolemy.data.expr.Parameter" value="0.5">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{95.0, -20.0}">
                </property>
            </property>
            <property name="annotation2" class="ptolemy.kernel.util.Attribute">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The optimization problem defined here is:
  max  I( z_{t+1}(u_t,t,x_t+1) , particles_{t+1}) , subject to speedLimit
   u_t

where  f(x):= I( z_{t+1}(u_t,t,x_t+1), and g(x):= speedLimit - abs(u_t)
In words, x corresponds to an array containing a set of proposed control inputs to robots at
the next time step. Given current robot locations and the current particle set, The MutualInformationCalculator 
actor calculates the expected mutual information between robots and the particle set at
the next tick. 

CheckSpeedConstraint expression also operates on the proposed control input x, 
computes an array, where each element i evaluates: speedLimit - speedOfRobot_i . If the
constraint array consists of all nonnegative values, the proposed x is concluded to satisfy
the constraints by the OptimizerDirector.</text></svg></configure>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
                <svg> 
                    <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
                </svg>
              </configure>
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-80.0, 170.0}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{429.6879542151161, 136.34197856104655}">
            </property>
            <port name="f(x)" class="ptolemy.actor.lib.hoc.MirrorPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{630.0, 65.0}">
                </property>
            </port>
            <port name="g(x)" class="ptolemy.actor.lib.hoc.MirrorPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{630.0, 0.0}">
                </property>
            </port>
            <port name="x" class="ptolemy.actor.lib.hoc.MirrorPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{250.0, 0.0}">
                </property>
            </port>
            <port name="locations" class="ptolemy.actor.lib.hoc.MirrorPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 135.0}">
                </property>
            </port>
            <port name="particles" class="ptolemy.actor.lib.hoc.MirrorPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{295.0, 70.0}">
                </property>
            </port>
            <entity name="CheckSpeedConstraint" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="{ speedLimit - sqrt(x(0)^2 + x(1)^2),&#10;  speedLimit - sqrt(x(2)^2 + x(3)^2)}">
                    <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                        <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                        <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                        </property>
                    </property>
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{475.0, 5.0}">
                </property>
                <port name="x" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="MutualInformationCalculator" class="org.ptolemy.machineLearning.particleFilter.MutualInformationCalculator">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{410.0, 70.0}">
                </property>
            </entity>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{340.0, 5.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CheckSpeedConstraint.x&quot;,x=475.0,y=5.0}, tail={id=&quot;relation2.vertex1&quot;,x=340.0,y=5.0}, points={} },{ head={id=&quot;x._location&quot;,x=250.0,y=0.0}, tail={id=&quot;relation2.vertex1&quot;,x=340.0,y=5.0}, points={} },{ head={id=&quot;MutualInformationCalculator.xValue&quot;,x=410.0,y=70.0}, tail={id=&quot;relation2.vertex1&quot;,x=340.0,y=5.0}, points={340.0,60.0} } }">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;particles._location&quot;,x=295.0,y=70.0}, tail={id=&quot;MutualInformationCalculator.particles&quot;,x=410.0,y=70.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{340.0, 135.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;MutualInformationCalculator.locations&quot;,x=410.0,y=70.0}, tail={id=&quot;relation6.vertex1&quot;,x=340.0,y=135.0}, points={340.0,80.0} },{ head={id=&quot;locations._location&quot;,x=235.0,y=135.0}, tail={id=&quot;relation6.vertex1&quot;,x=340.0,y=135.0}, points={} },{ head={id=&quot;.Display.input&quot;,x=380.0,y=135.0}, tail={id=&quot;relation6.vertex1&quot;,x=340.0,y=135.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;f(x)._location&quot;,x=630.0,y=65.0}, tail={id=&quot;MutualInformationCalculator.output&quot;,x=410.0,y=70.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;g(x)._location&quot;,x=630.0,y=0.0}, tail={id=&quot;CheckSpeedConstraint.output&quot;,x=475.0,y=5.0}, points={} } }">
                </property>
            </relation>
            <link port="f(x)" relation="relation3"/>
            <link port="g(x)" relation="relation4"/>
            <link port="x" relation="relation2"/>
            <link port="locations" relation="relation6"/>
            <link port="particles" relation="relation"/>
            <link port="CheckSpeedConstraint.output" relation="relation4"/>
            <link port="CheckSpeedConstraint.x" relation="relation2"/>
            <link port="MutualInformationCalculator.xValue" relation="relation2"/>
            <link port="MutualInformationCalculator.particles" relation="relation"/>
            <link port="MutualInformationCalculator.locations" relation="relation6"/>
            <link port="MutualInformationCalculator.output" relation="relation3"/>
        </entity>
    </entity>
    <relation name="relation25" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="{-715.0, -435.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Plotter.particles&quot;,x=-630.0,y=-190.0}, tail={id=&quot;relation25.vertex1&quot;,x=-715.0,y=-435.0}, points={-715.0,-210.0} },{ head={id=&quot;SequenceToArray.input&quot;,x=-670.0,y=-425.0}, tail={id=&quot;relation25.vertex1&quot;,x=-715.0,y=-435.0}, points={} },{ head={id=&quot;Joint PF.particleOutput&quot;,x=-845.0,y=-45.0}, tail={id=&quot;relation25.vertex1&quot;,x=-715.0,y=-435.0}, points={-745.0,-55.0,-745.0,-435.0} } }">
        </property>
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="{-910.0, -270.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Plotter.robot2_loc&quot;,x=-630.0,y=-190.0}, tail={id=&quot;relation10.vertex1&quot;,x=-910.0,y=-270.0}, points={-730.0,-200.0,-730.0,-235.0,-910.0,-235.0} },{ head={id=&quot;Robot2.position&quot;,x=-1010.0,y=-15.0}, tail={id=&quot;relation10.vertex1&quot;,x=-910.0,y=-270.0}, points={-960.0,-5.0,-960.0,-270.0} },{ head={id=&quot;Joint PF.r2&quot;,x=-845.0,y=-45.0}, tail={id=&quot;relation10.vertex1&quot;,x=-910.0,y=-270.0}, points={-910.0,-55.0} },{ head={id=&quot;ElementsToArray.input&quot;,x=-860.0,y=-490.0,index=2}, tail={id=&quot;relation10.vertex1&quot;,x=-910.0,y=-270.0}, points={-910.0,-490.0} } }">
        </property>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="{-920.0, -180.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Plotter.robot1_loc&quot;,x=-630.0,y=-190.0}, tail={id=&quot;relation.vertex1&quot;,x=-920.0,y=-180.0}, points={} },{ head={id=&quot;Joint PF.r1&quot;,x=-845.0,y=-45.0}, tail={id=&quot;relation.vertex1&quot;,x=-920.0,y=-180.0}, points={-920.0,-65.0} },{ head={id=&quot;Robot1.position&quot;,x=-1010.0,y=-110.0}, tail={id=&quot;relation.vertex1&quot;,x=-920.0,y=-180.0}, points={-950.0,-100.0,-950.0,-180.0} },{ head={id=&quot;ElementsToArray.input&quot;,x=-860.0,y=-490.0,index=2}, tail={id=&quot;relation.vertex1&quot;,x=-920.0,y=-180.0}, points={-920.0,-495.0} } }">
        </property>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="{-745.0, -355.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;InitialControlInput.output&quot;,x=-825.0,y=-355.0}, tail={id=&quot;relation7.vertex1&quot;,x=-745.0,y=-355.0}, points={} },{ head={id=&quot;Merge.input&quot;,x=-105.0,y=-285.0,index=2}, tail={id=&quot;relation7.vertex1&quot;,x=-745.0,y=-355.0}, points={-150.0,-290.0,-150.0,-355.0} },{ head={id=&quot;Merge2.input&quot;,x=-105.0,y=-350.0,index=2}, tail={id=&quot;relation7.vertex1&quot;,x=-745.0,y=-355.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;TimeDelay.output&quot;,x=-370.0,y=-435.0}, tail={id=&quot;ArrayToElements.input&quot;,x=-300.0,y=-435.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Robot1.controlInput&quot;,x=-1010.0,y=-110.0}, tail={id=&quot;Merge2.output&quot;,x=-105.0,y=-350.0}, points={-1100.0,-110.0,-1100.0,-250.0,-55.0,-250.0,-55.0,-350.0} } }">
        </property>
    </relation>
    <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Robot2.controlInput&quot;,x=-1010.0,y=-15.0}, tail={id=&quot;Merge.output&quot;,x=-105.0,y=-285.0}, points={-1115.0,-15.0,-1115.0,-155.0,-65.0,-155.0,-65.0,-285.0} } }">
        </property>
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Robot1.measurement&quot;,x=-1010.0,y=-110.0}, tail={id=&quot;Joint PF.z1_m&quot;,x=-845.0,y=-45.0}, points={-935.0,-120.0,-935.0,-35.0} } }">
        </property>
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Robot2.measurement&quot;,x=-1010.0,y=-15.0}, tail={id=&quot;Joint PF.z2_m&quot;,x=-845.0,y=-45.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Plotter.state&quot;,x=-630.0,y=-190.0}, tail={id=&quot;Joint PF.stateEstimate&quot;,x=-845.0,y=-45.0}, points={-730.0,-170.0,-730.0,-35.0} } }">
        </property>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Merge.input&quot;,x=-105.0,y=-285.0,index=2}, tail={id=&quot;RecordAssembler.output&quot;,x=-175.0,y=-305.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Merge2.input&quot;,x=-105.0,y=-350.0,index=2}, tail={id=&quot;RecordAssembler2.output&quot;,x=-175.0,y=-460.0}, points={-140.0,-350.0,-140.0,-440.0} } }">
        </property>
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;ArrayToElements.output&quot;,x=-300.0,y=-435.0,index=4}, tail={id=&quot;RecordAssembler2.x&quot;,x=-175.0,y=-460.0}, points={-205.0,-435.0,-205.0,-450.0} } }">
        </property>
    </relation>
    <relation name="relation16" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;ArrayToElements.output&quot;,x=-300.0,y=-435.0,index=4}, tail={id=&quot;RecordAssembler2.y&quot;,x=-175.0,y=-460.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation17" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;ArrayToElements.output&quot;,x=-300.0,y=-435.0,index=4}, tail={id=&quot;RecordAssembler.x&quot;,x=-175.0,y=-305.0}, points={-195.0,-425.0,-195.0,-295.0} } }">
        </property>
    </relation>
    <relation name="relation18" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;ArrayToElements.output&quot;,x=-300.0,y=-435.0,index=4}, tail={id=&quot;RecordAssembler.y&quot;,x=-175.0,y=-305.0}, points={-205.0,-420.0,-205.0,-275.0} } }">
        </property>
    </relation>
    <relation name="relation19" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;ElementsToArray.output&quot;,x=-860.0,y=-490.0}, tail={id=&quot;CompositeOptimizer2.locations&quot;,x=-515.0,y=-435.0}, points={-585.0,-490.0,-585.0,-435.0} } }">
        </property>
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SequenceToArray.output&quot;,x=-670.0,y=-425.0}, tail={id=&quot;CompositeOptimizer2.particles&quot;,x=-515.0,y=-435.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;TimeDelay.input&quot;,x=-370.0,y=-435.0}, tail={id=&quot;CompositeOptimizer2.optimalValue&quot;,x=-515.0,y=-435.0}, points={} } }">
        </property>
    </relation>
    <link port="SequenceToArray.input" relation="relation25"/>
    <link port="SequenceToArray.output" relation="relation2"/>
    <link port="Robot1.controlInput" relation="relation4"/>
    <link port="Robot1.measurement" relation="relation12"/>
    <link port="Robot1.position" relation="relation"/>
    <link port="Robot2.controlInput" relation="relation15"/>
    <link port="Robot2.measurement" relation="relation6"/>
    <link port="Robot2.position" relation="relation10"/>
    <link port="Plotter.particles" relation="relation25"/>
    <link port="Plotter.robot2_loc" relation="relation10"/>
    <link port="Plotter.robot1_loc" relation="relation"/>
    <link port="Plotter.state" relation="relation5"/>
    <link port="InitialControlInput.output" relation="relation7"/>
    <link port="ElementsToArray.input" relation="relation"/>
    <link port="ElementsToArray.input" relation="relation10"/>
    <link port="ElementsToArray.output" relation="relation19"/>
    <link port="Merge.input" relation="relation7"/>
    <link port="Merge.input" relation="relation3"/>
    <link port="Merge.output" relation="relation15"/>
    <link port="Merge2.input" relation="relation7"/>
    <link port="Merge2.input" relation="relation13"/>
    <link port="Merge2.output" relation="relation4"/>
    <link port="TimeDelay.input" relation="relation14"/>
    <link port="TimeDelay.output" relation="relation9"/>
    <link port="ArrayToElements.input" relation="relation9"/>
    <link port="ArrayToElements.output" relation="relation11"/>
    <link port="ArrayToElements.output" relation="relation16"/>
    <link port="ArrayToElements.output" relation="relation17"/>
    <link port="ArrayToElements.output" relation="relation18"/>
    <link port="Joint PF.particleOutput" relation="relation25"/>
    <link port="Joint PF.stateEstimate" relation="relation5"/>
    <link port="Joint PF.r1" relation="relation"/>
    <link port="Joint PF.r2" relation="relation10"/>
    <link port="Joint PF.z1_m" relation="relation12"/>
    <link port="Joint PF.z2_m" relation="relation6"/>
    <link port="RecordAssembler.output" relation="relation3"/>
    <link port="RecordAssembler.x" relation="relation17"/>
    <link port="RecordAssembler.y" relation="relation18"/>
    <link port="RecordAssembler2.output" relation="relation13"/>
    <link port="RecordAssembler2.x" relation="relation11"/>
    <link port="RecordAssembler2.y" relation="relation16"/>
    <link port="CompositeOptimizer2.optimalValue" relation="relation14"/>
    <link port="CompositeOptimizer2.locations" relation="relation19"/>
    <link port="CompositeOptimizer2.particles" relation="relation2"/>
</entity>
