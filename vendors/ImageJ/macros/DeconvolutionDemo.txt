// Demonstrates frequency domain convolution and deconvolution
// Note that the deblurred image will have high frequency artifacts
// caused by floating point bugs unless Java 1.4.1 or later is used.
requires("1.31e");
run("Bridge (174K)");
run("New...", "name=PSF type=8-bit fill=Black width=512 height=512");
makeOval(241, 241, 30, 30);
setForegroundColor(255, 255, 255);
run("Fill");
run("Select None");
run("Gaussian Blur...", "radius=15");
run("FD Math...", "image1=bridge.gif operation=Convolve image2=PSF result=Blurred do");
run("FD Math...", "image1=Blurred operation=Deconvolve image2=PSF result=Deblurred do");

